(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{1066:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return V}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(1654),s=a(1644),u=a(5220),p=a(1653),d=a(5218),f=a(5217),m=a(2448),b=a(91),y=a(330),v=a(34),g=a(916),h=a.n(g),E=a(814),P=a(721),A=a(100);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=x(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw i}}}}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var k,D,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=Object(y.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)},helperTextContext:{"& p":{textOverflow:"ellipsis",width:400,display:"block",whiteSpace:"nowrap",overflow:"hidden"}},endpointValidChip:{color:"green",border:"1px solid green"},endpointInvalidChip:{color:"#ffd53a",border:"1px solid #ffd53a"},endpointErrorChip:{color:"red",border:"1px solid red"},iconButton:{padding:e.spacing(1)},iconButtonValid:{padding:e.spacing(1),color:h.a[500]}}}));function M(e,t){var a,r=e.context,n=e.version;return a=t?"{channel}/{version}":"{context}/{version}",r&&(a=r,r.indexOf("{version}")<0&&(a=r+"/{version}")),n&&(a=a.replace("{version}",n)),a}function R(e,t){var a,r=A.a.getUser();r.name&&-1!==r.name.indexOf("@")&&(a=r.name.split("@")[r.name.split("@").length-1]);var n=e.startsWith("/")?e.toLowerCase():"/"+e.toLowerCase();return null!=a&&"carbon.super"!==a&&(n="/t/"+a+n.toLowerCase()),void 0!==t.find((function(e){return e.context.toLowerCase()===n.toLowerCase()||e.contextTemplate.toLowerCase()===n.toLowerCase()}))}function V(e){var t=e.onChange,a=e.onValidate,r=e.api,o=e.isAPIProduct,l=e.isWebSocket,y=e.children,g=e.appendChildrenBeforeEndpoint,h=e.hideEndpoint,A=G(),S=C(Object(n.useState)({}),2),j=S[0],I=S[1],x=C(Object(n.useState)(),2),L=x[0],k=x[1],D=C(Object(n.useState)(""),2),T=D[0],V=D[1],W=C(Object(n.useState)(!1),2),H=W[0],N=W[1],F=C(Object(n.useState)(!1),2),B=F[0],U=F[1];Object(n.useEffect)((function(){a(Boolean(r.name)&&(o||Boolean(r.version))&&Boolean(r.context))}),[]);var z,_,q,Q=function(e){var t=Object.entries(e).length>0&&Object.entries(e).map((function(e){var t=C(e,2)[1];return null==t})).reduce((function(e,t){return e&&t}));t=t&&Boolean(r.name)&&(o||Boolean(r.version))&&Boolean(r.context),a(t,j),I(e)};function $(e,t){switch(e){case"name":var a=E.a.apiName.validate(t,{abortEarly:!1}).error;null===a?E.a.apiParameter.validate(e+":"+t).then((function(e){var r;e.body.list.length>0&&t.toLowerCase()===(null===(r=e.body.list[0].name)||void 0===r?void 0:r.toLowerCase())?Q(w(w({},j),{},{name:{details:[{message:"Name "+t+" already exists"}]}})):Q(w(w({},j),{},{name:a}))})):Q(w(w({},j),{},{name:a}));break;case"context":var r=E.a.apiContext.required().validate(t,{abortEarly:!1}).error,n=t.startsWith("/")?t:"/"+t;if(null===r){var i,o=O(n.split("/"));try{for(o.s();!(i=o.n()).done;){var c=i.value;null!==c&&"{version}"!==c&&(c.includes("{version}")?(r=E.a.apiContextWithoutKeyWords.required().validate(t,{abortEarly:!1}).error,Q(w(w({},j),{},{context:{details:[{message:"{version} cannot exist as a substring in a path param"}]}}))):(c.includes("{")||c.includes("}"))&&(r=E.a.apiContextWithoutKeyWords.required().validate(t,{abortEarly:!1}).error,Q(w(w({},j),{},{context:{details:[{message:"{ or } cannot exist as a substring in a path param"}]}}))))}}catch(e){o.e(e)}finally{o.f()}var s=0;if(null===r){var u,p=O(n);try{for(p.s();!(u=p.n()).done;){var d=u.value;"("===d?s++:")"===d&&s--,s<0&&Q(w(w({},j),{},{context:{details:[{message:"Parentheses should be balanced in API context"}]}}))}}catch(e){p.e(e)}finally{p.f()}s>0&&Q(w(w({},j),{},{context:{details:[{message:"Parentheses should be balanced in API context"}]}}))}null===r&&0===s&&E.a.apiParameter.validate(e+":"+n).then((function(e){var a=e.body.list.length;a>0&&R(t,e.body.list)?Q(w(w({},j),{},{context:{details:[{message:l?n+" channel already exists":n+" context already exists"}]}})):a>0&&R(t,e.body.list)?Q(w(w({},j),{},{context:{details:[{message:n+" dynamic context already exists"}]}})):Q(w(w({},j),{},{context:r,version:null}))}))}else Q(w(w({},j),{},{context:r}));break;case"version":var f=E.a.apiVersion.required().validate(t).error;Q(w(w({},j),{},{version:f}));break;case"endpoint":if(l&&t&&t.length>0){var m=E.a.wsUrl.validate(t).error;Q(w(w({},j),{},{endpointURL:m}))}}}return i.a.createElement(s.a,{item:!0,md:11},i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(c.a,{autoFocus:!0,fullWidth:!0,id:"api-name",error:Boolean(j.name),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{id:"Apis.Create.Components.DefaultAPIForm.name",defaultMessage:[{type:0,value:"Name"}]}),i.a.createElement("sup",{className:A.mandatoryStar},"*")),helperText:j.name&&j.name.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)})),value:r.name,name:"name",onChange:t,InputProps:{id:"itest-id-apiname-input",onBlur:function(e){$("name",e.target.value)}},InputLabelProps:{for:"itest-id-apiname-input"},margin:"normal",variant:"outlined"}),i.a.createElement(s.a,{container:!0,spacing:2},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{item:!0,md:12},i.a.createElement(c.a,{fullWidth:!0,id:"context",error:Boolean(j.context),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{id:"Apis.Create.Components.DefaultAPIForm.api.product.context",defaultMessage:[{type:0,value:"Context"}]}),i.a.createElement("sup",{className:A.mandatoryStar},"*")),name:"context",value:r.context,onChange:t,InputProps:{onBlur:function(e){$("context",e.target.value)}},helperText:j.context&&j.context.details.map((function(e,t){return i.a.createElement("div",{key:e.message,style:{marginTop:0!==t&&"10px"}},e.message)}))||"API Product will be exposed in ".concat(M(r)," context at the gateway"),margin:"normal",variant:"outlined"}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{item:!0,md:8,xs:6},i.a.createElement(c.a,{fullWidth:!0,id:"context",error:Boolean(j.context),label:i.a.createElement(i.a.Fragment,null,l?i.a.createElement(v.a,{id:"Apis.Create.Components.DefaultAPIForm.api.channel",defaultMessage:[{type:0,value:"Channel"}]}):i.a.createElement(v.a,{id:"Apis.Create.Components.DefaultAPIForm.api.context",defaultMessage:[{type:0,value:"Context"}]}),i.a.createElement("sup",{className:A.mandatoryStar},"*")),name:"context",value:r.context,onChange:t,InputProps:{id:"itest-id-apicontext-input",onBlur:function(e){$("context",e.target.value)}},InputLabelProps:{for:"itest-id-apicontext-input"},helperText:j.context&&j.context.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)}))||"API will be exposed in ".concat(M(r,l)," context at the gateway"),classes:{root:A.helperTextContext},margin:"normal",variant:"outlined"})),i.a.createElement(s.a,{item:!0,md:4,xs:6},i.a.createElement(c.a,{fullWidth:!0,id:"version",error:Boolean(j.version),label:i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{id:"Apis.Create.Components.DefaultAPIForm.version",defaultMessage:[{type:0,value:"Version"}]}),i.a.createElement("sup",{className:A.mandatoryStar},"*")),name:"version",value:r.version,onChange:t,InputProps:{id:"itest-id-apiversion-input",onBlur:function(e){$("version",e.target.value)}},InputLabelProps:{for:"itest-id-apiversion-input"},helperText:j.version&&j.version.message,margin:"normal",variant:"outlined"})))),g&&!!y&&y,!o&&!h&&i.a.createElement(c.a,{fullWidth:!0,id:"itest-id-apiendpoint-input",label:"Endpoint",name:"endpoint",value:r.endpoint,onChange:t,helperText:j.endpointURL&&j.endpointURL.details.map((function(e,t){return i.a.createElement("div",{style:{marginTop:0!==t&&"10px"}},e.message)})),error:Boolean(j.endpointURL),margin:"normal",variant:"outlined",InputProps:{onBlur:function(e){$("endpoint",e.target.value)},endAdornment:i.a.createElement(u.a,{position:"end"},T&&i.a.createElement(m.a,{label:T,className:L?A.endpointValidChip:(z=B,_=A.endpointErrorChip,q=A.endpointInvalidChip,z?_:q),variant:"outlined"}),!l&&i.a.createElement(p.a,{className:L?A.iconButtonValid:A.iconButton,"aria-label":"TestEndpoint",onClick:function(){return e=r.endpoint,N(!0),void(new P.a).testEndpoint(e).then((function(e){null!==e.body.error?(V(e.body.error),U(!0)):(V(e.body.statusCode+" "+e.body.statusMessage),U(!1)),e.body.statusCode>=200&&e.body.statusCode<300?(k(!0),U(!1)):k(!1)})).finally((function(){N(!1)}));var e},disabled:H},H?i.a.createElement(f.a,{size:20}):i.a.createElement(d.a,null,"check_circle")))}}),!g&&!!y&&y),i.a.createElement(s.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},i.a.createElement(s.a,{item:!0},i.a.createElement(b.a,{variant:"caption",display:"block",gutterBottom:!0},i.a.createElement("sup",{style:{color:"red"}},"*")," ","Mandatory fields"))))}T(V,"useStyles{classes}\nuseState{[validity, setValidity]({})}\nuseState{[isEndpointValid, setIsEndpointValid]}\nuseState{[statusCode, setStatusCode]('')}\nuseState{[isUpdating, setUpdating](false)}\nuseState{[isErrorCode, setIsErrorCode](false)}\nuseEffect{}",(function(){return[G]})),V.defaultProps={onValidate:function(){},api:{},isWebSocket:!1},V.propTypes={api:l.a.shape({}),isAPIProduct:l.a.shape({}).isRequired,isWebSocket:l.a.shape({}),onChange:l.a.func.isRequired,onValidate:l.a.func},(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(G,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),k.register(M,"actualContext","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),k.register(R,"checkContext","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx"),k.register(V,"DefaultAPIForm","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/DefaultAPIForm.jsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)}).call(this,a(43)(e))},1139:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(382),s=a(1644);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){var t=e.title,a=e.children;return i.a.createElement(s.a,{container:!0,spacing:3},i.a.createElement(s.a,{item:!0,xs:12}),i.a.createElement(s.a,{item:!0,sm:!1,md:3}),i.a.createElement(s.a,{item:!0,sm:12,md:6},i.a.createElement(s.a,{container:!0,spacing:5},i.a.createElement(s.a,{item:!0,md:12},t),i.a.createElement(s.a,{item:!0,xs:12,md:12},i.a.createElement(c.a,{elevation:0},a)))))}d.propTypes={title:l.a.element.isRequired,children:l.a.arrayOf(l.a.element).isRequired},(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(d,"APICreateBase","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/APICreateBase.jsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(43)(e))},1367:function(e,t,a){"use strict";(function(e){var r,n=a(721),i=a(1018),o=a(24),l=a(1166);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(n=r.key,i=void 0,i=function(e,t){if("object"!==c(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),"symbol"===c(i)?i:String(i)),r)}var n,i}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m(e);if(t){var n=m(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f(this,a)}}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,y,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,a,r,l=d(c);function c(){return s(this,c),l.apply(this,arguments)}return t=c,r=[{key:"validateFileOrArchive",value:function(e){var t=(new i.a).getAPIClient(o.a.getCurrentEnvironment(),o.a.CONST.API_CLIENT).client,a={requestBody:{file:e}};return t.then((function(e){return e.apis.Validation.validateWSDLDefinition(null,a)}))}},{key:"validateUrl",value:function(e){return(new i.a).getAPIClient(o.a.getCurrentEnvironment(),o.a.CONST.API_CLIENT).client.then((function(t){return t.apis.Validation.validateWSDLDefinition({},{requestBody:{url:e}})}))}},{key:"importByUrl",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP",r=(new i.a).getAPIClient(o.a.getCurrentEnvironment(),o.a.CONST.API_CLIENT).client;return r.then((function(r){return r.apis.APIs.importWSDLDefinition({},{requestBody:{url:e,additionalProperties:JSON.stringify(t),implementationType:a}}).then((function(e){return new n.a(e.body)}))}))}},{key:"importByFileOrArchive",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP",r=(new i.a).getAPIClient(o.a.getCurrentEnvironment(),o.a.CONST.API_CLIENT).client;return r.then((function(r){return r.apis.APIs.importWSDLDefinition(null,{requestBody:{file:e,additionalProperties:JSON.stringify(t),implementationType:a}}).then((function(e){return new n.a(e.body)}))}))}}],(a=null)&&u(t.prototype,a),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(l.a),g=v;t.a=g,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(v,"Wsdl","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/data/Wsdl.js"),b.register(g,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/data/Wsdl.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)}).call(this,a(43)(e))},1373:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return A}));var r,n=a(0),i=a.n(n),o=a(382),l=a(330),c=a(1758),s=a(1763),u=a(1762),p=a(5264),d=a(1760),f=a(2449),m=a(1761),b=a(924);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,h,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P=Object(l.a)((function(e){return{tableCell:{border:"none",fontSize:"10px !important"},headerTableCell:{background:"transparent",fontSize:10,fontWeight:"bold",border:"none"},tableRow:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},cursor:"pointer"},tableWrapper:{"& table tr td:first-child":{width:10},"& table tr td:nth-child(2)":{width:10}},headerTableRow:{display:"flex"}}}));function A(e){var t=y(i.a.useState(0),2),a=t[0],r=t[1],n=y(i.a.useState(10),2),l=n[0],v=n[1],g=e.linterResults,h=e.handleRowClick,E=P();var A=[{id:"type",label:"Type",minWidth:50},{id:"line",label:"Line",minWidth:50},{id:"message",label:"Message",minWidth:170,align:"left"}],S=g.map((function(e,t){return a=b.b[e.severity],r=e.range.start.line+1,n=e.message,{type:a,line:r,message:n,code:t};var a,r,n}));return i.a.createElement(o.a,{sx:{width:"100%",overflow:"hidden"}},i.a.createElement(p.a,{sx:{maxHeight:440},className:E.tableWrapper},i.a.createElement(c.a,{stickyHeader:!0,"aria-label":"linter-table"},i.a.createElement(d.a,null,i.a.createElement(m.a,null,A.map((function(e){return i.a.createElement(u.a,{key:e.id,align:e.align,className:E.headerTableCell,style:{minWidth:e.minWidth}},e.label)})))),i.a.createElement(s.a,null,S.slice(a*l,a*l+l).map((function(e){return i.a.createElement(m.a,{key:e.code,className:E.tableRow,onClick:function(){return h(e.line)}},A.map((function(t){var a=e[t.id];return i.a.createElement(u.a,{key:t.id,align:t.align,className:E.tableCell},t.format&&"number"==typeof a?t.format(a):a)})))}))))),i.a.createElement(f.a,{rowsPerPageOptions:[10,25,100],component:"div",count:S.length,rowsPerPage:l,page:a,onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){v(+e.target.value),r(0)}}))}E(A,"useState{[page, setPage](0)}\nuseState{[rowsPerPage, setRowsPerPage](10)}\nuseStyles{classes}",(function(){return[P]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(P,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/APIDefinition/LinterUI/LinterUI.jsx"),g.register(A,"LinterUI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/APIDefinition/LinterUI/LinterUI.jsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,a(43)(e))},1374:function(e,t,a){"use strict";var r=a(749),n=a(0),i=a(1368),o=a(34),l=a(224),c=a(330),s=a(924),u=a(1649),p=a(1644),d=a(91),f=a(5285),m=a(5238);i.oas;const b=Object(c.a)(e=>({activeButton:{"&:selected":{backgroundColor:e.palette.background.default}}}));t.a=e=>{const{linterResults:t,handleChange:a}=e,[i,c]=(b(),Object(n.useState)(null)),y={};return t&&t.forEach(({severity:e})=>{y[e]=y[e]+1||1}),Object(r.jsxs)(l.a,Object.assign({ml:3},{children:[null===t&&Object(r.jsx)(o.a,{id:"Apis.Details.APIDefinition.Linting.APILintingSummary.loading",defaultMessage:"Linting . . ."}),t&&Object(r.jsx)(u.a,Object.assign({title:Object.entries(s.c).map(([e,t])=>`${t}:${y[Number(e)]||0}${3!==Number(e)?", ":""}`||"-")},{children:Object(r.jsx)(f.a,Object.assign({exclusive:!0,value:i,size:"small",onChange:(e,t)=>{c(t),a(e,t)}},{children:Object.entries(s.b).map(([e,t])=>Object(r.jsx)(m.a,Object.assign({value:String(e)},{children:Object(r.jsxs)(l.a,Object.assign({ml:1,display:"flex"},{children:[t,Object(r.jsx)(p.a,Object.assign({item:!0},{children:Object(r.jsx)(l.a,Object.assign({maxWidth:"2rem"},{children:Object(r.jsxs)(d.a,Object.assign({noWrap:!0},{children:[" ",y[Number(e)]||0]}))}))}))]}))}),Math.random()))}))}))]}))}},1567:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(330),l=a(382),c=a(1654),s=a(5215),u=a(5219),p=a(5221),d=a(5218),f=a(5240),m=a(1749),b=a(2441),y=a(1653),v=a(1645),g=a(1169),h=a.n(g),E=a(34),P=a(91),A=a(1644),S=a(837),O=a.n(S),j=a(28),w=a.n(j),I=a(721),C=a(847),x=a(1568),L=a(230),k=a(73),D=a(988);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=Object(o.a)((function(e){return{searchWrapper:{padding:0,marginTop:e.spacing(1),"& input":{padding:"12px 14px"},display:"flex"},paper:{height:"100%",borderRadius:0},apiWrapper:{overflowY:"auto",height:349},ResourceWrapper:{marginLeft:e.spacing(2),marginRight:e.spacing(2),"& .frame":{overflowY:"auto",height:328,border:"1px solid "+e.palette.grey[400],borderRadius:e.spacing(1)},"& .frame::-webkit-scrollbar":{"-webkit-appearance":"none"},"& .frame::-webkit-scrollbar:vertical":{width:11},"& .frame::-webkit-scrollbar:horizontal":{height:11},"& .frame::-webkit-scrollbar-thumb":{borderRadius:e.spacing(1),border:"2px solid"+e.palette.common.white,backgroundColor:e.palette.grey[400]},"& .frame.rightFrame":{height:369}},SelectedResourceWrapper:{overflowY:"auto",overflowX:"auto",height:321},leftMost:{background:e.palette.grey[700],color:e.palette.getContrastText(e.palette.grey[700]),padding:e.spacing(1)},rightMost:{background:e.palette.grey[600],color:e.palette.getContrastText(e.palette.grey[600]),padding:e.spacing(1)},colTitle:{background:e.palette.grey[400],color:e.palette.getContrastText(e.palette.grey[400]),padding:e.spacing(1),fontWeight:200,minHeight:25},treeItemMain:{background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:e.spacing(1)},treeItemMainWrapper:{paddingLeft:e.spacing(2)},treeItem:{"& .material-icons":{fontSize:e.spacing(2),cursor:"pointer",marginRight:e.spacing(1)},display:"flex",alignItems:"center",padding:"6px 0"},hr:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1),color:e.palette.getContrastText(e.palette.grey[100])},methodView:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},middleText:{flex:1},selectedApi:{background:e.palette.grey[100]},selectedTitle:{padding:e.spacing(2)},buttonWrapper:{marginTop:e.spacing(2),textDecorate:"none"},selectedApiDescription:{padding:"0px 16px"},messageWrapper:{padding:e.spacing(3)},tootBar:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"0 16px",background:e.palette.grey[100],color:e.palette.getContrastText(e.palette.grey[100]),padding:5,borderRadius:5,"& a":{cursor:"pointer",display:"flex",justifyContent:"flex-end",alignItems:"center"}},inactiveIcon:{color:e.palette.grey[300]}}})),N={POST:"post",PUT:"put",GET:"get",DELETE:"delete",PATCH:"patch",OPTIONS:"options",HEAD:"head"};function F(e){var t=H(),a=e.apiResources,r=e.setApiResources,o=e.isStateCreate,g=e.api,S=e.resourceNotFountMessage,j=R(Object(n.useState)([]),2),w=j[0],T=j[1],V=R(Object(n.useState)(!1),2),W=V[0],F=V[1],B=R(Object(n.useState)(""),2),U=B[0],z=B[1],_=R(Object(n.useState)([]),2),q=_[0],Q=_[1],$=R(Object(n.useState)(null),2),Y=$[0],J=$[1],K=R(Object(n.useState)(!1),2),Z=K[0],X=K[1],ee=new I.a,te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=e.trim().toLowerCase(),a="?query=name:"+t+" type:HTTP",r=h.a.parse(a);return r.limit=100,r.offset=0,I.a.search(r)}return I.a.all({query:{type:"HTTP"}})},ae=function(e){return e===N.DELETE||e===N.POST||e===N.GET||e===N.PUT||e===N.PATCH||e===N.OPTIONS||e===N.HEAD},re=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;Object.keys(e).map((function(a){var n=e[a];Object.keys(n).map((function(e){if(ae(e)){n[e].checked=!1;var i=a,o=e,l=!1;r&&Object.keys(r).map((function(e){var a=r[e];a&&t===a.apiId&&Object.keys(a.operations).map((function(e){var t=a.operations[e];t&&t.target===i&&t.verb.toLowerCase()===o.toLowerCase()&&(l=!0)}))})),n[e].allreadyAdded=!!l}}))})),Q(e)},ne=function(e){var t=e.id;ee.getSwagger(t).then((function(a){void 0!==a.obj.paths&&(re(a.obj.paths,t),J(e))})).catch((function(e){var t=e.status;404===t?F(!0):401===t&&Object(L.b)()}))},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!1,o=null;n?o=n:(o=O()(a),i=!0);var l=e.target,c=e.verb,s=e.apiId,u=e.name,p=e.version,d={id:null,target:l,verb:c.toUpperCase(),authType:null,throttlingPolicy:null,scopes:[]},f=!1;return Object.keys(o).map((function(e,a){var r=o[e];if(r&&s===r.apiId){f=!0;var n=!1;Object.keys(r.operations).map((function(e,i){var s=r.operations[e];s&&s.target===l&&s.verb.toLowerCase()===c.toLowerCase()&&(n=!0,"remove"===t&&(r.operations.length>1?r.operations.splice(i,1):o.splice(a,1)))})),n||"add"!==t||r.operations.push(d)}})),f||o.push({name:u,apiId:s,operations:[d],version:p}),i&&(r(o),s===Y.id&&re(O()(q),s,o)),o},oe=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},q);a[e][t].checked=!a[e][t].checked,Q(a)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=O()(a);Object.keys(q).map((function(a){var r=q[a];Object.keys(r).map((function(n){(r[n].checked||e)&&ae(n)&&ie({target:a,verb:n,apiId:Y.id,name:Y.name,version:Y.version},"add",t)}))})),r(t),re(O()(q),Y.id,t)};return Object(n.useEffect)((function(){te().then((function(e){var t=e.body.list.filter((function(e){return"PROTOTYPED"!==e.lifeCycleStatus&&"RETIRED"!==e.lifeCycleStatus&&"DEPRECATED"!==e.lifeCycleStatus}));T(t),t.length>0&&(J(t[0]),ne(t[0]))})).catch((function(e){var t=e.status;404===t?F(!0):401===t&&Object(L.b)()}))}),[]),W?i.a.createElement(C.a,{message:S}):i.a.createElement(i.a.Fragment,null,0!==w.length||Z?i.a.createElement(i.a.Fragment,null,!o&&i.a.createElement(A.a,{container:!0},i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{item:!0,xs:8,className:t.leftMost},i.a.createElement(P.a,null,i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.find.and.select",defaultMessage:[{type:0,value:"Find and select resources for the API Product"}]}))),i.a.createElement(A.a,{item:!0,xs:4,className:t.rightMost},i.a.createElement(P.a,null,i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.selected",defaultMessage:[{type:0,value:"Selected resources of API Product"}]}))))),i.a.createElement(A.a,{container:!0},i.a.createElement(A.a,{item:!0,xs:3},i.a.createElement("div",{className:t.colTitle},i.a.createElement(P.a,null,i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.select.an.api",defaultMessage:[{type:0,value:"Select an API"}]}))),i.a.createElement(l.a,null,i.a.createElement("div",{className:t.searchWrapper},i.a.createElement(c.a,{id:"outlined-full-width",label:"API",style:{margin:8},placeholder:"Filter APIs",helperText:"Filter by name",onChange:function(e){te(e.target.value).then((function(e){var t=e.body.list,a=t.filter((function(e){return"PROTOTYPED"!==e.status}));a.length>0&&J(t[0]),T(a)})).catch((function(e){var t=e.status;404===t?F(!0):401===t&&Object(L.b)()})),z(e.target.value),X(e.target.value)},value:U,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}})),i.a.createElement("div",{className:t.apiWrapper},i.a.createElement(s.a,{dense:!0,component:"nav"},w.map((function(e){var a="checkbox-list-label-".concat(e.id);return i.a.createElement(u.a,{key:e.id,role:void 0,dense:!0,button:!0,className:Y&&e.id===Y.id&&t.selectedApi},i.a.createElement(m.a,{id:a,primary:e.name,secondary:"".concat(e.version," - ").concat(e.context),onClick:function(){return ne(e)}}))})))))),i.a.createElement(A.a,{item:!0,xs:5},i.a.createElement(l.a,{className:t.paper},i.a.createElement("div",{className:t.colTitle},i.a.createElement(P.a,null,i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesEdit.api.resources",defaultMessage:[{type:0,value:"Select API Resources"}]}))),Y&&i.a.createElement(P.a,{variant:"h5",component:"h2",className:t.selectedTitle},Y.name),i.a.createElement("div",{className:t.tootBar},i.a.createElement(v.a,{onClick:function(){return le()},onKeyDown:function(){return le()},id:"add-selected-resources"},i.a.createElement(P.a,{variant:"body2"},i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace. toolbar.add.selected",defaultMessage:[{type:0,value:"Add Selected"}]})),i.a.createElement(d.a,null,"fast_forward")),i.a.createElement(D.a,null),i.a.createElement(v.a,{onClick:function(){return le(!0)},onKeyDown:function(){return le(!0)},id:"add-all-resources-btn"},i.a.createElement(P.a,{variant:"body2"},i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.toolbar. add.all",defaultMessage:[{type:0,value:"Add All"}]})),i.a.createElement(d.a,null,"fast_forward"))),i.a.createElement("div",{className:t.ResourceWrapper},i.a.createElement("div",{className:"frame"},i.a.createElement(s.a,{dense:!0,id:"resource-wrapper"},Object.keys(q).map((function(e){var a=q[e],r="checkbox-list-label_".concat(e);return Object.keys(a).map((function(n){var o=a[n];return k.a.HTTP_METHODS.includes(n)&&i.a.createElement(u.a,{key:"".concat(n," - ").concat(e),role:void 0,dense:!0},i.a.createElement(p.a,{style:{minWidth:35}},i.a.createElement(b.a,{edge:"start",checked:o.checked,tabIndex:-1,disableRipple:!0,onChange:function(){return oe(e,n)},color:"primary",disabled:o.allreadyAdded,inputProps:{"aria-label":"Select API resource"}})),i.a.createElement(m.a,{id:r+n,primary:i.a.createElement("div",null,i.a.createElement(x.a,{method:n,className:t.methodView}),i.a.createElement("span",null,e)),secondary:o["x-auth-type"]&&o["x-throttling-tier"]&&"".concat(o["x-auth-type"]," - ").concat(o["x-throttling-tier"]),onClick:function(){return ie({target:e,verb:n,apiId:Y.id,name:Y.name,version:Y.version},"add")},className:t.middleText}),i.a.createElement(f.a,null,o.allreadyAdded&&i.a.createElement(d.a,{className:t.inactiveIcon},"chevron_right"),!o.allreadyAdded&&i.a.createElement(y.a,{edge:"end","aria-label":"comments",onClick:function(){return ie({target:e,verb:n,apiId:Y.id,name:Y.name,version:Y.version},"add")}},i.a.createElement(d.a,null,"chevron_right"))))}))}))))))),i.a.createElement(A.a,{item:!0,xs:4},i.a.createElement(l.a,{className:t.paper},i.a.createElement("div",{className:t.colTitle}),g.name&&i.a.createElement(i.a.Fragment,null,i.a.createElement(P.a,{variant:"h5",component:"h2",className:t.selectedTitle},g.name)),i.a.createElement("div",{className:t.ResourceWrapper},i.a.createElement("div",{className:"frame rightFrame"},w.length>0&&a&&0===a.length&&i.a.createElement("div",{className:t.messageWrapper},i.a.createElement(P.a,{component:"p"},i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace. empty.title",defaultMessage:[{type:0,value:"Use the left side panel to add resources"}]}))),a&&a.length>0&&Object.keys(a).map((function(e){var r=a[e];return i.a.createElement("div",{key:r.name},i.a.createElement("div",{className:t.treeItemMain},i.a.createElement(P.a,{component:"p"},r.name," - ",r.version)),i.a.createElement("div",{className:t.treeItemMainWrapper},Object.keys(r.operations).map((function(e){var a=r.operations[e],n=a.target,o=a.verb;return i.a.createElement("div",{key:"".concat(r.apiId,"_").concat(o,"_").concat(n),className:t.treeItem},i.a.createElement(x.a,{method:o,className:t.methodView}),i.a.createElement(P.a,{variant:"body2"},n),i.a.createElement("hr",{className:t.hr}),i.a.createElement(y.a,{onClick:function(){return ie({target:n,verb:o,apiId:r.apiId,name:r.name,version:r.version},"remove")},"aria-label":"delete resource "+r.name},i.a.createElement(d.a,null,"delete")))}))))})))))))):i.a.createElement(A.a,{container:!0},i.a.createElement(P.a,{className:t.messageWrapper},i.a.createElement(E.a,{id:"Apis.Details.ProductResources.ProductResourcesWorkspace.ApisnotFound",defaultMessage:[{type:0,value:"No REST APIs are created yet"}]}))))}W(F,"useStyles{classes}\nuseState{[allApis, setAllApis]([])}\nuseState{[notFound, setNotFound](false)}\nuseState{[searchText, setSearchText]('')}\nuseState{[selectedApiPaths, setSelectedApiPaths]([])}\nuseState{[selectedApi, setSelectedApi](null)}\nuseState{[fromSearch, setFromSearch](false)}\nuseEffect{}",(function(){return[H]})),F.propTypes={apiResources:w.a.instanceOf(Array).isRequired,setApiResources:w.a.func.isRequired,isStateCreate:w.a.isRequired,api:w.a.isRequired,resourceNotFountMessage:w.a.string.isRequired};var B,U,z=F;t.a=z,(B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(B.register(H,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx"),B.register(N,"resourceMethod","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx"),B.register(F,"ProductResourcesEdit","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx"),B.register(z,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)}).call(this,a(43)(e))},1568:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(693),l=a(2448),c=a(28),s=a.n(c),u=a(29),p=a.n(u);function d(e){console.info(p.a.app);var t=Object(o.a)(),a=e.method,r=e.className,n=t.custom.resourceChipColors?t.custom.resourceChipColors[a.toLowerCase()]:null,c="#000000";return n?c=t.palette.getContrastText(t.custom.resourceChipColors[a.toLowerCase()]):(console.log("Check the theme settings. The resourceChipColors is not populated properly"),n="#cccccc"),i.a.createElement(l.a,{label:a,className:r||"",style:{backgroundColor:n,color:c,height:20,width:65}})}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useTheme{theme}",(function(){return[o.a]})),d.propTypes={className:s.a.string.isRequired,method:s.a.string.isRequired};var f,m,b=d;t.a=b,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(d,"MethodView","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/MethodView.jsx"),f.register(b,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Details/ProductResources/MethodView.jsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,a(43)(e))},1579:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return Y}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(5278),s=a(1644),u=a(1654),p=a(5236),d=a(1790),f=a(1656),m=a(5213),b=a(330),y=a(34),v=a(5217),g=a(5220),h=a(1645),E=a(5215),P=a(5219),A=a(5239),S=a(5284),O=a(1653),j=a(931),w=a.n(j),I=a(813),C=a.n(I),x=a(5240),L=a(1749),k=a(119),D=a.n(k),T=a(962),G=a.n(T),M=a(814),R=a(1367),V=a(851),W=a(969);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){B(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var _,q,Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},$=Object(b.a)((function(e){return{mandatoryStar:{color:e.palette.error.main}}}));function Y(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o="file"===t.inputType,l="SOAPTOREST"===t.type,b=$(),j=U(Object(n.useState)(),2),I=j[0],k=j[1],T=U(Object(n.useState)(!1),2),H=T[0],N=T[1],B="create"===t.mode;function z(e,t){var a=e.body.isValid,n=!1;return a?(k(F(F({},I),{},"file"===t?{file:null}:{url:null})),n=!0):k(F(F({},I),{},"file"===t?{file:{message:"WSDL content validation failed!"}}:{url:{message:"Invalid WSDL URL!"}})),r(a),N(!1),n}function _(e,t){var a="Error occurred during validation";e.response&&e.response.body.description&&(a=e.response.body.description),k(F(F({},I),{},"file"===t?{file:{message:a}}:{url:{message:a}})),N(!1)}function q(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?(N(!0),R.a.validateFileOrArchive(e).then((function(t){z(t,"file")&&a({action:"inputValue",value:e})})).catch((function(e){_(e,"file")}))):(k(F(F({},I),{},{file:t})),r(!1))}(e[0])}var Q=l?i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop WSDL file "},{type:1,value:"break"},{type:0,value:" -or-"}],values:{break:i.a.createElement("br",null)}}):i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.archive.dropzone",defaultMessage:[{type:0,value:"Drag & Drop WSDL file/archive "},{type:1,value:"break"},{type:0,value:" -or-"}],values:{break:i.a.createElement("br",null)}});var Y=null;return H?Y=i.a.createElement(g.a,{position:"end"},i.a.createElement(v.a,null)):I&&I.url?Y=i.a.createElement(g.a,{position:"end"},i.a.createElement(D.a,{fontSize:"large",color:"error"})):I&&!I.url&&(Y=i.a.createElement(g.a,{position:"end"},i.a.createElement(G.a,{fontSize:"large",color:"primary"}))),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{container:!0,spacing:5},B&&i.a.createElement(s.a,{item:!0,md:12},i.a.createElement(f.a,{component:"fieldset"},i.a.createElement(m.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:b.mandatoryStar},"*")," ",i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type",defaultMessage:[{type:0,value:"Implementation Type"}]}))),i.a.createElement(p.a,{"aria-label":"Implementation type",value:t.type?t.type:"SOAP",onChange:function(e){a({action:"type",value:e.target.value}),a({action:"isFormValid",value:!1}),a({action:"inputValue",value:null}),a({action:"inputType",value:"url"})}},i.a.createElement(d.a,{value:"SOAP",control:i.a.createElement(c.a,{color:"primary"}),label:i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label",defaultMessage:[{type:0,value:"Pass Through"}]})}),i.a.createElement(d.a,{value:"SOAPTOREST",control:i.a.createElement(c.a,{color:"primary"}),label:i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label",defaultMessage:[{type:0,value:"Generate REST APIs"}]})})))),i.a.createElement(s.a,{item:!0,md:12},i.a.createElement(f.a,{component:"fieldset"},i.a.createElement(m.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:b.mandatoryStar},"*")," ",i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),i.a.createElement(p.a,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return a({action:"inputType",value:e.target.value})}},i.a.createElement(d.a,{value:"url",control:i.a.createElement(c.a,{color:"primary"}),label:i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.url.label",defaultMessage:[{type:0,value:"WSDL URL"}]})}),i.a.createElement(d.a,{value:"file",control:i.a.createElement(c.a,{color:"primary"}),label:i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.file.label.wsdl.file.archive",defaultMessage:[{type:0,value:"WSDL File/Archive"}]})})))),I&&I.file&&i.a.createElement(s.a,{item:!0,md:11},i.a.createElement(V.a,{onClose:function(){return k({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:I.file.message})),i.a.createElement(s.a,{item:!0,md:11},o?t.inputValue?i.a.createElement(E.a,null,i.a.createElement(P.a,{key:t.inputValue.path},i.a.createElement(A.a,null,i.a.createElement(S.a,null,i.a.createElement(w.a,null))),i.a.createElement(L.a,{primary:"".concat(t.inputValue.path," - ").concat(Object(W.b)(t.inputValue.size))}),i.a.createElement(x.a,null,i.a.createElement(O.a,{edge:"end","aria-label":"delete",onClick:function(){a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}},i.a.createElement(C.a,null))))):i.a.createElement(W.a,{error:I&&I.file,onDrop:q,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.wsdl"},H?i.a.createElement(v.a,null):i.a.createElement(i.a.Fragment,null,Q,i.a.createElement(h.a,{color:"primary",variant:"contained"},i.a.createElement(y.a,{id:"Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]})))):i.a.createElement(u.a,{autoFocus:!0,id:"outlined-full-width",label:"WSDL URL",placeholder:"Enter WSDL URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){var a,n=e.target.value;null===(a=M.a.url.required().validate(n).error)?(N(!0),R.a.validateUrl(t.inputValue).then((function(e){z(e,"url")})).catch((function(e){_(e,"url")}))):(k(F(F({},I),{},{url:a})),r(!1))},endAdornment:Y},helperText:I&&I.url&&I.url.message||"Click away to validate the URL",error:I&&Boolean(I.url),disabled:H}))))}Q(Y,"useStyles{classes}\nuseState{[isError, setValidity]}\nuseState{[isValidating, setIsValidating](false)}",(function(){return[$]})),Y.defaultProps={onValidate:function(){}},Y.propTypes={apiInputs:l.a.shape({type:l.a.string,inputType:l.a.string,mode:l.a.string}).isRequired,inputsDispatcher:l.a.func.isRequired,onValidate:l.a.func},(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register($,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/WSDL/Steps/ProvideWSDL.jsx"),_.register(Y,"ProvideWSDL","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/WSDL/Steps/ProvideWSDL.jsx")),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&q(e)}).call(this,a(43)(e))},1580:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return Z}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(5278),s=a(1644),u=a(1654),p=a(5236),d=a(1790),f=a(1656),m=a(5213),b=a(330),y=a(34),v=a(5217),g=a(5220),h=a(962),E=a.n(h),P=a(119),A=a.n(P),S=a(1645),O=a(5215),j=a(5219),w=a(5239),I=a(5284),C=a(1653),x=a(931),L=a.n(x),k=a(813),D=a.n(k),T=a(5240),G=a(1749),M=a(851),R=a(814),V=a(721),W=a(969),H=a(2320),N=a.n(H),F=a(2448);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var $,Y,J="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},K=Object(b.a)((function(e){return{mandatoryStar:{color:e.palette.error.main}}}));function Z(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o="file"===t.inputType,l=t.inputType,b=t.inputValue,h=K(),P=q(Object(n.useState)({}),2),x=P[0],k=P[1],H=q(Object(n.useState)(!1),2),B=H[0],U=H[1],_=q(Object(n.useState)([]),2),Q=_[0],$=_[1],Y=q(Object(n.useState)("wso2"),2),J=Y[0],X=Y[1];function ee(e){U(!0);var t=e.pop(),n=null;V.a.validateAsyncAPIByFile(t).then((function(e){var r=e.body,i=r.isValid,o=r.info,l=r.errors;X(o.gatewayVendor),i?(n=t,a({action:"preSetAPI",value:o}),k(z(z({},x),{},{file:null}))):(k(z(z({},x),{},{file:{message:"AsyncAPI content validation failed! "}})),$(l))})).catch((function(e){k(z(z({},x),{},{file:{message:"AsyncAPI content validation failed!"}})),console.error(e)})).finally((function(){U(!1),r(null!==n),a({action:"inputValue",value:n})}))}function te(e){var n=R.a.url.required().validate(e).error;null===n?(U(!0),V.a.validateAsyncAPIByUrl(t.inputValue,{returnContent:!0}).then((function(e){var t=e.body,n=t.isValid,i=t.info,o=t.content,l=t.errors;n?(i.content=o,a({action:"preSetAPI",value:i}),k(z(z({},x),{},{url:null}))):(k(z(z({},x),{},{url:{message:"AsyncAPI content validation failed!"}})),$(l)),r(n),U(!1)})).catch((function(e){k({url:{message:e.message}}),r(!1),U(!1),console.error(e)}))):(k(z(z({},x),{},{url:n})),r(!1))}Object(n.useEffect)((function(){b&&(l===Z.INPUT_TYPES.FILE?ee([b]):l===Z.INPUT_TYPES.URL&&te(b))}),[l,b]);var ae=Boolean(x.url),re=null;return B?re=i.a.createElement(g.a,{position:"end"},i.a.createElement(v.a,null)):void 0!==x.url&&(re=ae?i.a.createElement(g.a,{position:"end"},i.a.createElement(A.a,{fontSize:"large",color:"error"})):i.a.createElement(g.a,{position:"end"},i.a.createElement(E.a,{fontSize:"large",color:"primary"}))),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{container:!0,spacing:5},i.a.createElement(s.a,{item:!0,xs:12,md:12},i.a.createElement(f.a,{component:"fieldset"},i.a.createElement(m.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:h.mandatoryStar},"*")," ",i.a.createElement(y.a,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),i.a.createElement(p.a,{"aria-label":"Input type",value:t.inputType,onChange:function(e){return a({action:"inputType",value:e.target.value})}},i.a.createElement(d.a,{"data-testid":"input-asyncapi-url",value:Z.INPUT_TYPES.URL,control:i.a.createElement(c.a,{color:"primary"}),label:"AsyncAPI URL"}),i.a.createElement(d.a,{"data-testid":"input-asyncapi-file",value:Z.INPUT_TYPES.FILE,control:i.a.createElement(c.a,{color:"primary"}),label:"AsyncAPI File"})))),x.file&&i.a.createElement(s.a,{item:!0,md:11},i.a.createElement(M.a,{onClose:function(){return k({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:x.file.message,errors:Q})),i.a.createElement(s.a,{item:!0,xs:10,md:11},o?i.a.createElement(i.a.Fragment,null,t.inputValue?i.a.createElement(O.a,null,i.a.createElement(j.a,{key:t.inputValue.path},i.a.createElement(w.a,null,i.a.createElement(I.a,null,i.a.createElement(L.a,null))),i.a.createElement(G.a,{primary:"".concat(t.inputValue.path," -\n                                    ").concat(Object(W.b)(t.inputValue.size))}),i.a.createElement(T.a,null,i.a.createElement(C.a,{edge:"end","aria-label":"delete",onClick:function(){a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}},i.a.createElement(D.a,null))))):i.a.createElement(W.a,{error:x.file,onDrop:ee,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml,.yml"},B?i.a.createElement(v.a,null):[i.a.createElement(y.a,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop AsyncAPI File here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"}],values:{break:i.a.createElement("br",null)}}),i.a.createElement(S.a,{"data-testid":"upload-api-file",color:"primary",variant:"contained"},i.a.createElement(y.a,{id:"Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))])):i.a.createElement(u.a,{autoFocus:!0,id:"outlined-full-width",label:"AsyncAPI URL",placeholder:"Enter AsyncAPI URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){te(e.target.value)},endAdornment:re},helperText:x.url&&x.url.message||"Click away to validate the URL",error:ae})),"solace"===J&&i.a.createElement(s.a,{item:!0,xs:10,md:11},i.a.createElement(F.a,{"data-testid":"solace-api-label",label:"Identified as Solace Event Portal API",icon:i.a.createElement(N.a,{style:{color:"green"}}),variant:"outlined",style:{color:"green"}})),i.a.createElement(s.a,{item:!0,xs:2,md:5})))}J(Z,"useStyles{classes}\nuseState{[isValid, setValidity]({})}\nuseState{[isValidating, setIsValidating](false)}\nuseState{[validationErrors, setValidationErrors]([])}\nuseState{[gatewayVendor, setGatewayVendor]('wso2')}\nuseEffect{}",(function(){return[K]})),Z.defaultProps={onValidate:function(){}},Z.INPUT_TYPES={URL:"url",FILE:"file"},Z.propTypes={apiInputs:l.a.shape({type:l.a.string,inputType:l.a.string,inputValue:l.a.string}).isRequired,inputsDispatcher:l.a.func.isRequired,onValidate:l.a.func},($="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&($.register(K,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/Steps/ProvideAsyncAPI.jsx"),$.register(Z,"ProvideAsyncAPI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/Steps/ProvideAsyncAPI.jsx")),(Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Y(e)}).call(this,a(43)(e))},1581:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return ee}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(5278),s=a(1644),u=a(1654),p=a(5236),d=a(1790),f=a(1656),m=a(5213),b=a(330),y=a(34),v=a(5217),g=a(5220),h=a(962),E=a.n(h),P=a(119),A=a.n(P),S=a(1645),O=a(5215),j=a(5219),w=a(5239),I=a(5284),C=a(1653),x=a(931),L=a.n(x),k=a(813),D=a.n(k),T=a(5240),G=a(1749),M=a(1185),R=a.n(M),V=a(1036),W=a.n(V),H=a(814),N=a(721),F=a(969),B=a(924),U=a(1597);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function q(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var J,K,Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},X=Object(b.a)((function(e){return{mandatoryStar:{color:e.palette.error.main}}}));function ee(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o=e.onLinterLineSelect,l="file"===t.inputType,b=t.inputType,h=t.inputValue,P=X(),x=$(Object(n.useState)({}),2),k=x[0],M=x[1],V=$(Object(n.useState)([]),2),z=V[0],q=V[1],Y=$(Object(n.useState)([]),2),J=Y[0],K=Y[1],Z=$(Object(n.useState)(!1),2),te=Z[0],ae=Z[1],re=$(Object(n.useState)(!1),2),ne=re[0],ie=re[1];function oe(e){ie(!0),Object(B.a)(e).then((function(e){q(e||[])})).finally((function(){ie(!1)}))}function le(){ie(!1),q([]),K([]),a({action:"importingContent",value:null}),a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})}var ce=Object(n.useCallback)(R()((function(e){N.a.validateOpenAPIByUrl(e,{returnContent:!0}).then((function(e){var t,n=e.body,i=n.isValid,o=n.info,l=n.content,c=n.errors;i?(oe(t=function(e){if("string"!=typeof e)return!1;try{var t=JSON.parse(e);return t&&"object"===Q(t)}catch(e){return console.log("API definition is in not in JSON format"),!1}}(l)?JSON.stringify(JSON.parse(l),null,2):JSON.stringify(W.a.load(l),null,2)),a({action:"importingContent",value:t}),o.content=l,a({action:"preSetAPI",value:o}),M(_(_({},k),{},{url:null}))):(M(_(_({},k),{},{url:{message:"OpenAPI content validation failed!"}})),K(c));r(i),ae(!1)})).catch((function(e){M({url:{message:e.message}}),r(!1),ae(!1),console.error(e)}))}),750),[]);function se(e){ae(!0);var t=e.pop(),n=null;if(N.a.validateOpenAPIByFile(t).then((function(e){var r=e.body,i=r.isValid,o=r.info,l=r.errors;i?(n=t,a({action:"preSetAPI",value:o}),M(_(_({},k),{},{file:null}))):(M(_(_({},k),{},{file:{message:"OpenAPI content validation failed!"}})),K(l))})).catch((function(e){M(_(_({},k),{},{file:{message:"OpenAPI content validation failed!"}})),console.error(e)})).finally((function(){ae(!1),r(null!==n),a({action:"inputValue",value:t})})),!t.path.endsWith(".zip")){var i=new FileReader;i.readAsText(t),i.onloadend=function(){var e,t=null===(e=i.result)||void 0===e?void 0:e.toString();a({action:"importingContent",value:t}),oe(t)}}}function ue(e){var a=H.a.url.required().validate(e).error;null===a?(ae(!0),ce(t.inputValue)):(M(_(_({},k),{},{url:a})),r(!1))}Object(n.useEffect)((function(){le()}),[b]),Object(n.useEffect)((function(){h&&(b===ee.INPUT_TYPES.FILE?se([h]):b===ee.INPUT_TYPES.URL&&ue(h))}),[b,h]);var pe=Boolean(k.url),de=null;return te?de=i.a.createElement(g.a,{position:"end"},i.a.createElement(v.a,null)):void 0!==k.url&&(de=pe?i.a.createElement(g.a,{position:"end"},i.a.createElement(A.a,{fontSize:"large",color:"error"})):i.a.createElement(g.a,{position:"end",id:"url-validated"},i.a.createElement(E.a,{fontSize:"large",color:"primary"}))),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{container:!0,spacing:2},i.a.createElement(s.a,{item:!0,xs:12,md:12},i.a.createElement(f.a,{component:"fieldset"},i.a.createElement(m.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:P.mandatoryStar},"*")," ",i.a.createElement(y.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type",defaultMessage:[{type:0,value:"Input Type"}]}))),i.a.createElement(p.a,{"aria-label":"Input Source",value:t.inputType,onChange:function(e){return a({action:"inputType",value:e.target.value})}},i.a.createElement(d.a,{disabled:ne||te,value:ee.INPUT_TYPES.URL,control:i.a.createElement(c.a,{color:"primary"}),label:"OpenAPI URL",id:"open-api-url-select-radio"}),i.a.createElement(d.a,{disabled:ne||te,value:ee.INPUT_TYPES.FILE,control:i.a.createElement(c.a,{color:"primary"}),label:"OpenAPI File/Archive","aria-label":"OpenAPI File/Archive",id:"open-api-file-select-radio"})))),i.a.createElement(s.a,{item:!0,xs:10,md:11},l?i.a.createElement(i.a.Fragment,null,t.inputValue?i.a.createElement(O.a,null,i.a.createElement(j.a,{key:t.inputValue.path},i.a.createElement(w.a,null,i.a.createElement(I.a,null,i.a.createElement(L.a,null))),i.a.createElement(G.a,{primary:"".concat(t.inputValue.path," -\n                                    ").concat(Object(F.b)(t.inputValue.size))}),i.a.createElement(T.a,null,i.a.createElement(C.a,{edge:"end","aria-label":"delete",onClick:le},i.a.createElement(D.a,null))))):i.a.createElement(F.a,{error:k.file,onDrop:se,files:t.inputValue,accept:".bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml"},te?i.a.createElement(v.a,null):[i.a.createElement(y.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop Open API File/Archive here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"}],values:{break:i.a.createElement("br",null)}}),i.a.createElement(S.a,{color:"primary",variant:"contained",id:"browse-to-upload-btn",onClick:le},i.a.createElement(y.a,{id:"Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))])):i.a.createElement(u.a,{autoFocus:!0,id:"outlined-full-width",label:"OpenAPI URL",placeholder:"Enter OpenAPI URL",fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){var t=e.target.value;return a({action:"inputValue",value:t})},value:t.inputValue,InputLabelProps:{shrink:!0},InputProps:{onBlur:function(e){ue(e.target.value)},endAdornment:de},helperText:k.url&&k.url.message||"Click away to validate the URL",error:pe,"data-testid":"swagger-url-endpoint"})),i.a.createElement(U.a,{inputValue:h,isValidating:te,isLinting:ne,validationErrors:J,linterResults:z,onLinterLineSelect:o}),i.a.createElement(s.a,{item:!0,xs:2,md:5})))}Z(ee,"useStyles{classes}\nuseState{[isValid, setValidity]({})}\nuseState{[linterResults, setLinterResults]([])}\nuseState{[validationErrors, setValidationErrors]([])}\nuseState{[isValidating, setIsValidating](false)}\nuseState{[isLinting, setIsLinting](false)}\nuseCallback{validateURLDebounced}\nuseEffect{}\nuseEffect{}",(function(){return[X]})),ee.defaultProps={onValidate:function(){}},ee.INPUT_TYPES={URL:"url",FILE:"file"},ee.propTypes={apiInputs:l.a.shape({type:l.a.string,inputType:l.a.string,inputValue:l.a.string}).isRequired,inputsDispatcher:l.a.func.isRequired,onValidate:l.a.func},(J="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(J.register(X,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/OpenAPI/Steps/ProvideOpenAPI.jsx"),J.register(ee,"ProvideOpenAPI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/OpenAPI/Steps/ProvideOpenAPI.jsx")),(K="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&K(e)}).call(this,a(43)(e))},1597:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var r=a(749),n=a(0),i=a(330),o=a(1644),l=a(5215),c=a(5219),s=a(5221),u=a(5217),p=a(1749),d=a(5247),f=a(5245),m=a(91),b=a(5246),y=a(224),v=a(5265),g=a(34),h=a(1373),E=a(1374),P=a(924);const A=Object(i.a)(()=>({importDefinitionDialogHeader:{fontWeight:600}}));function S(e){const{inputValue:t,isValidating:a,isLinting:i,linterResults:S,validationErrors:O,onLinterLineSelect:j}=e,[w,I]=Object(n.useState)(!0),[C,x]=Object(n.useState)(!1),[L,k]=Object(n.useState)(-1),D=A();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.a,Object.assign({item:!0,xs:10,md:11},{children:Object(r.jsxs)(l.a,{children:[t&&a&&Object(r.jsxs)(c.a,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)(u.a,{})}),Object(r.jsx)(p.a,{children:Object(r.jsx)(g.a,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.validating",defaultMessage:"Validating API definition"})})]}),t&&!a&&i&&Object(r.jsxs)(c.a,{children:[Object(r.jsx)(s.a,{children:Object(r.jsx)(u.a,{})}),Object(r.jsx)(p.a,{children:Object(r.jsx)(g.a,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.linting",defaultMessage:"Generating Linter Results"})})]})]})})),!a&&O.length>0&&Object(r.jsx)(o.a,Object.assign({item:!0,xs:10,md:11},{children:Object(r.jsxs)(d.a,Object.assign({expanded:w,onChange:()=>{I(!w)}},{children:[Object(r.jsx)(f.a,Object.assign({expandIcon:Object(r.jsx)(v.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},{children:Object(r.jsx)(o.a,Object.assign({container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},{children:Object(r.jsx)(m.a,Object.assign({className:D.importDefinitionDialogHeader},{children:Object(r.jsx)(g.a,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.validation.errros",defaultMessage:"Validation Errors"})}))}))})),Object(r.jsx)(b.a,{children:Object(r.jsx)(l.a,{children:O.map(e=>Object(r.jsxs)(c.a,{children:[Object(r.jsx)(s.a,{children:P.b[0]}),Object(r.jsxs)(p.a,{children:[Object(r.jsx)(m.a,{children:Object(r.jsx)(y.a,Object.assign({sx:{fontWeight:"bold"}},{children:e.message}))}),Object(r.jsx)(m.a,{children:e.description})]})]}))})})]}))})),!i&&S.length>0&&Object(r.jsx)(o.a,Object.assign({item:!0,xs:10,md:11,"data-testid":"itest-id-linter-results"},{children:Object(r.jsxs)(d.a,Object.assign({expanded:C,onChange:()=>{x(!C)}},{children:[Object(r.jsx)(f.a,Object.assign({expandIcon:Object(r.jsx)(v.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header"},{children:Object(r.jsxs)(o.a,Object.assign({container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},{children:[Object(r.jsx)(m.a,Object.assign({className:D.importDefinitionDialogHeader},{children:Object(r.jsx)(g.a,{id:"Apis.Create.OpenAPI.Steps.ValidationResults.linter.results",defaultMessage:"Linter Results"})})),Object(r.jsx)(E.a,{linterResults:S,handleChange:(e,t)=>{e.stopPropagation(),k(t),x(!0)}})]}))})),Object(r.jsx)(b.a,Object.assign({style:{padding:0}},{children:Object(r.jsx)(h.a,{linterResults:S.filter(e=>-1===L||e.severity===Number(L)),severityMap:P.b,handleRowClick:e=>{j&&j(e)}})}))]}))}))]})}},1598:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return H}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(1644),s=a(1656),u=a(5213),p=a(330),d=a(34),f=a(5217),m=a(1645),b=a(5215),y=a(5219),v=a(5239),g=a(5284),h=a(1653),E=a(931),P=a.n(E),A=a(813),S=a.n(A),O=a(5240),j=a(1749),w=a(721),I=a(969),C=a(851);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var M,R,V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},W=Object(p.a)((function(e){return{mandatoryStar:{color:e.palette.error.main}}}));function H(e){var t=e.apiInputs,a=e.inputsDispatcher,r=e.onValidate,o=t.inputValue,l=W(),p=T(Object(n.useState)({file:null}),2),E=p[0],A=p[1],x=T(Object(n.useState)(!1),2),L=x[0],D=x[1];function G(e){D(!0);var t=e.pop(),n=null;w.a.validateGraphQLFile(t).then((function(e){var r=e.body,i=r.isValid,o=r.graphQLInfo;i?(n=t,a({action:"graphQLInfo",value:o}),A(k(k({},E),{},{file:null}))):A(k(k({},E),{},{file:{message:"GraphQL content validation failed!"}}))})).catch((function(e){A(k(k({},E),{},{file:{message:"GraphQL content validation failed!"}})),console.error(e)})).finally((function(){D(!1),r(null!==n),a({action:"inputValue",value:n})}))}Object(n.useEffect)((function(){o&&G([o])}),[o]);var M=".graphql,text/plain";return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{container:!0,spacing:5},!t.inputValue&&i.a.createElement(c.a,{item:!0,md:12},i.a.createElement(s.a,{component:"fieldset"},i.a.createElement(u.a,{component:"legend"},i.a.createElement(i.a.Fragment,null,i.a.createElement("sup",{className:l.mandatoryStar},"*")," ",i.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type",defaultMessage:[{type:0,value:"Provide GraphQL File"}]}))))),E.file&&i.a.createElement(c.a,{item:!0,md:11},i.a.createElement(C.a,{onClose:function(){return A({file:null})},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:E.file.message})),i.a.createElement(c.a,{item:!0,md:11},t.inputValue?i.a.createElement(b.a,{"data-testid":"uploaded-list-graphql"},i.a.createElement(y.a,{key:t.inputValue.path,"data-testid":"uploaded-list-content-graphql"},i.a.createElement(v.a,null,i.a.createElement(g.a,null,i.a.createElement(P.a,null))),i.a.createElement(j.a,{primary:"".concat(t.inputValue.path," - \n                                    ").concat(Object(I.b)(t.inputValue.size)),"data-testid":"file-input-"+t.inputValue.path}),i.a.createElement(O.a,null,i.a.createElement(h.a,{edge:"end","aria-label":"delete",onClick:function(){a({action:"inputValue",value:null}),a({action:"isFormValid",value:!1})},"data-testid":"btn-delete-imported-file"},i.a.createElement(S.a,null))))):i.a.createElement(I.a,{error:E.file,onDrop:G,files:t.inputValue,accept:M,ariaLabel:"GraphQL file upload"},L?i.a.createElement(f.a,null):[i.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone",defaultMessage:[{type:0,value:"Drag & Drop files here "},{type:1,value:"break"},{type:0,value:" or "},{type:1,value:"break"},{type:0,value:" Browse files"},{type:1,value:"break"},{type:0,value:"("},{type:1,value:"accept"},{type:0,value:")"}],values:{break:i.a.createElement("br",null),accept:M}}),i.a.createElement(m.a,{color:"primary",variant:"contained","data-testid":"browse-to-upload-btn"},i.a.createElement(d.a,{id:"Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.upload",defaultMessage:[{type:0,value:"Browse File to Upload"}]}))]))))}V(H,"useStyles{classes}\nuseState{[isValid, setValidity]({ file: null })}\nuseState{[isValidating, setIsValidating](false)}\nuseEffect{}",(function(){return[W]})),H.defaultProps={onValidate:function(){}},H.propTypes={apiInputs:l.a.shape({type:l.a.string,inputType:l.a.string}).isRequired,inputsDispatcher:l.a.func.isRequired,onValidate:l.a.func},(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(W,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/GraphQL/Steps/ProvideGraphQL.jsx"),M.register(H,"ProvideGraphQL","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/GraphQL/Steps/ProvideGraphQL.jsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)}).call(this,a(43)(e))},2377:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(91),s=a(1644),u=a(224),p=a(34),d=a(144),f=a(1645),m=a(180),b=a(21),y=a(727),v=a(5217),g=a(721),h=a(822),E=a(851),P=a(5270),A=a(1139),S=a(1066),O=a(815),j=a(100);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function D(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */D=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),l=new j(n||[]);return r(o,"_invoke",{value:P(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function d(){}function f(){}function m(){}var b={};c(b,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==t&&a.call(v,i)&&(b=v);var g=m.prototype=d.prototype=Object.create(b);function h(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(n,o){!function r(n,i,o,l){var c=u(e[n],e,i);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==w(p)&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(p).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}})}function P(e,t,a){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return C()}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var l=A(o,a);if(l){if(l===p)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=u(e,t,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}function A(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},h(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,r,n,i){void 0===i&&(i=Promise);var o=new E(s(t,a,r,n),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},h(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:I(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),p}},e}function T(e,t,a,r,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void a(e)}l.done?t(c):Promise.resolve(c).then(r,n)}function G(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){T(i,r,n,o,l,"next",e)}function l(e){T(i,r,n,o,l,"throw",e)}o(void 0)}))}}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},R=function(){var e=G(D().mark((function e(){var t,a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.a.policies("subscription"),e.next=3,t;case 3:return a=e.sent,e.abrupt("return",a.body.list);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function V(e){var t=e.isWebSocket,a=e.isAPIProduct,r=e.history,o=e.intl,l=Object(h.d)(),d=l.data,b=l.isLoading,w=l.error,I=L(Object(n.useState)(null),2),k=I[0],T=I[1];Object(n.useEffect)((function(){w&&T(w.message)}),[w]);var M=L(Object(n.useState)(),2),W=M[0],H=M[1],N=L(Object(n.useState)(!1),2),F=N[0],B=N[1],U=L(Object(n.useState)(!1),2),z=U[0],_=U[1],q=L(Object(n.useState)(!1),2),Q=q[0],$=q[1],Y=L(Object(n.useState)(!1),2),J=Y[0],K=Y[1];var Z=L(Object(n.useReducer)((function(e,t){var a=t.action,r=t.value;switch(a){case"name":case"version":case"endpoint":case"context":case"isFormValid":return C(C({},e),{},x({},a,r));default:return e}}),{formValidity:!1}),2),X=Z[0],ee=Z[1],te=X.endpoint,ae=!(X.name&&X.version&&X.context)||W||F;function re(){return ne.apply(this,arguments)}function ne(){return(ne=G(D().mark((function e(){var n,i,l,c,s,u,p,d,f,m;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),n=X.name,i=X.version,l=X.context,c=X.endpoint,e.next=4,R();case 4:return 0===(p=e.sent).length?y.a.info(o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):u=p.filter((function(e){return"Unlimited"===e.name})).length>0?["Unlimited"]:[p[0].name],d={name:n,version:i,context:l,policies:u},c&&(d.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:c},production_endpoints:{url:c}}),t&&(d.type="WS"),a?(f=new O.a(d),s=f.saveProduct(d).then((function(e){return y.a.info("API Product created successfully"),r.push("/api-products/".concat(e.id,"/overview")),e})).catch((function(e){if(console.error(e),e.response)return T(e.response.body),e.response.body.description;var t="Something went wrong while adding the API Product";return T(t),t}))):(m=new g.a(d),s=m.save(),y.a.loading(s,{loading:"Creating API...",success:"API created successfully",error:function(e){if(console.error(e),B(!1),e.response)return T(e.response.body),e.response.body.description;var t="Something went wrong while adding the API";return T(t),t}})),e.abrupt("return",s.finally((function(){return H(!1)})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.api.heading",defaultMessage:[{type:0,value:"Create an API"}]})),i.a.createElement(c.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version, a Context and Backend Endpoint (optional)"}]})));return a?ie=i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.heading",defaultMessage:[{type:0,value:"Create an API Product"}]})),i.a.createElement(c.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.apiProduct.sub.heading",defaultMessage:[{type:0,value:"Create an API Product by providing a Name, a Context, and Business Plans (optional)."}]}))):t&&(ie=i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{variant:"h5",component:"h1"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.heading",defaultMessage:[{type:0,value:"Create a WebSocket API"}]})),i.a.createElement(c.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.webSocket.sub.heading",defaultMessage:[{type:0,value:"Create a WebSocket API by providing a Name, and a Context."}]})))),i.a.createElement(A.a,{title:ie},i.a.createElement(s.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},k&&i.a.createElement(s.a,{item:!0,xs:11},i.a.createElement(E.a,{onClose:function(){return T(null)},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:k})),i.a.createElement(s.a,{item:!0,xs:12},b&&i.a.createElement(u.a,{mt:-2},i.a.createElement(P.a,{"data-testid":"loading-publisher-settings"}))),i.a.createElement(s.a,{item:!0,md:1,xs:0}),i.a.createElement(s.a,{item:!0,md:11,xs:12},i.a.createElement(S.a,{onValidate:function(e){ee({action:"isFormValid",value:e})},onChange:function(e){var t=e.target,a=t.name,r=t.value;ee({action:a,value:r})},api:X,isAPIProduct:a,isWebSocket:t})),i.a.createElement(s.a,{item:!0,md:1,xs:0}),i.a.createElement(s.a,{item:!0,md:11,xs:12},i.a.createElement(s.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(s.a,{item:!0},i.a.createElement(f.a,{id:"itest-create-default-api-button",variant:"contained",color:"primary",disabled:ae||!X.isFormValid,onClick:function(){re().then((function(e){r.push("/apis/".concat(e.id,"/overview"))}))}},"Create"," ",W&&!J&&i.a.createElement(v.a,{size:24}))),!j.a.isNotPublisher()&&i.a.createElement(s.a,{item:!0},i.a.createElement(f.a,{id:"itest-id-apicreatedefault-createnpublish",variant:"contained",color:"primary",disabled:Q||z||!te||ae||!X.isFormValid,onClick:function(){var e=new g.a;K(!0),re().then((function(t){_(!0);var a=e.createRevision(t.id,{description:"Initial Revision"});y.a.loading(a,{success:"API revision created successfully",error:function(e){return console.error(e),e.response?(T(e.response.body),e.response.body.description):(T("Something went wrong while creating the API Revision"),o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Revision"}]}))},loading:"Creating API revision..."}),a.then((function(a){var n=a.body.id;_(!1);var i=d.environment.map((function(e){return e.name})),l=[],c=d.environment.filter((function(e){return e.provider&&e.provider.toLowerCase().includes("wso2")})),s=function(e){var t=c.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};i&&i.length>0&&(i.includes("Default")&&s("Default")?l.push({name:"Default",displayOnDevportal:!0,vhost:s("Default")}):s(i[0])&&l.push({name:i[0],displayOnDevportal:!0,vhost:s(i[0])})),$(!0);var u=e.deployRevision(t.id,n,l);y.a.loading(u,{loading:"Deploying API...",success:"API deployed successfully",error:function(e){return console.error(e),e.response?(T(e.response.body),e.response.body.description):(T("Something went wrong while publishing the API"),o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.publish",defaultMessage:[{type:0,value:"Something went wrong while publishing the API"}]}))}}),u.then((function(){$(!1),B(!0);var e=t.publish();y.a.loading(e,{loading:"Publishing API...",success:function(e){return e.body.workflowStatus===V.WORKFLOW_STATUS.CREATED?o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]}):o.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.otherStatus",defaultMessage:[{type:0,value:"API updated successfully"}]})},error:function(){return o.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.otherStatus",defaultMessage:[{type:0,value:"Error while publishing the API"}]})}}),e.then((function(){return r.push("/apis/".concat(t.id,"/overview"))})).finally((function(){B(!1),K(!1)}))})).finally((function(){$(!1)}))})).finally((function(){_(!1)}))}))}},!F&&!z&&!Q&&"Create & Publish",(F||z||Q)&&i.a.createElement(v.a,{size:24}),W&&F&&"Creating API . . .",!W&&z&&!Q&&"Creating Revision . . .",!W&&F&&!z&&!Q&&"Publishing API . . .",!W&&F&&!z&&Q&&"Deploying Revision . . .")),i.a.createElement(s.a,{item:!0},i.a.createElement(m.c,{to:"/apis/"},i.a.createElement(f.a,{variant:"text"},i.a.createElement(p.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))))))))}M(V,"usePublisherSettings{{ data: settings, isLoading, error: settingsError }}\nuseState{[pageError, setPageError](null)}\nuseEffect{}\nuseState{[isCreating, setIsCreating]}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        formValidity: false,\n    })}",(function(){return[h.d]})),V.defaultProps={isWebSocket:!1,isAPIProduct:!1},V.WORKFLOW_STATUS={CREATED:"CREATED"},V.propTypes={history:l.a.shape({push:l.a.func}).isRequired,isAPIProduct:l.a.shape({}),isWebSocket:l.a.shape({}),intl:l.a.shape({formatMessage:l.a.func}).isRequired};var W,H,N=Object(b.l)(Object(d.c)(V));t.a=N,(W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(W.register(R,"getPolicies","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx"),W.register(V,"APICreateDefault","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx"),W.register(N,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Default/APICreateDefault.jsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)}).call(this,a(43)(e))},4910:function(e,t,a){"use strict";a.r(t),function(e){var r,n=a(0),i=a.n(n),o=a(21),l=a(84),c=a(28),s=a.n(c),u=a(847),p=a(2377),d=a(4911),f=a(4913),m=a(4914),b=a(4915),y=a(4916),v=a(4917),g=a(4918);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var h={content:{flexGrow:1}};function E(e){var t=e.classes;return i.a.createElement("div",{className:t.content},i.a.createElement(o.f,null,i.a.createElement(o.c,{path:"/apis/create/rest",component:p.a}),i.a.createElement(o.c,{path:"/api-products/create",component:d.a}),i.a.createElement(o.c,{path:"/apis/create/graphQL",component:b.a}),i.a.createElement(o.c,{path:"/apis/create/openapi",component:f.a}),i.a.createElement(o.c,{path:"/apis/create/wsdl",component:m.a}),i.a.createElement(o.c,{path:"/apis/create/ws",component:y.a}),i.a.createElement(o.c,{path:"/apis/create/streamingapi/:apiType",component:v.a}),i.a.createElement(o.c,{path:"/apis/create/asyncapi",component:g.a}),i.a.createElement(o.c,{component:u.a})))}E.propTypes={classes:s.a.shape({content:s.a.string}).isRequired};var P,A,S=Object(l.a)(h)(E);t.default=S,(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(h,"styles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/APICreateRoutes.jsx"),P.register(E,"APICreateRoutes","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/APICreateRoutes.jsx"),P.register(S,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/APICreateRoutes.jsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)}.call(this,a(43)(e))},4911:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return W}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(224),s=a(1644),u=a(241),p=a(34),d=a(5249),f=a(5250),m=a(5281),b=a(330),y=a(1645),v=a(91),g=a(180),h=a(815),E=a(727),P=a(5217),A=a(4912),S=a(1066),O=a(1567),j=a(721),w=a(100),I=a(822);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var G,M,R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},V=Object(b.a)((function(e){return{Paper:{height:"40px"},saveButton:{padding:"0px 0px 0px 10px"},titleWrapper:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:e.spacing(2)},buttonWrapper:{marginTop:e.spacing(4)},alternativeLabel:{marginTop:e.spacing(1)}}}));function W(e){var t=e.history,a=Object(u.a)(),r=D(Object(n.useState)(0),2),o=r[0],l=r[1],b=D(Object(n.useState)([]),2),C=b[0],x=b[1],T=Object(I.c)().settings,G=D(Object(n.useState)(!1),2),M=G[0],R=G[1],W=D(Object(n.useState)(!1),2),H=W[0],N=W[1],F=D(Object(n.useState)(!1),2),B=F[0],U=F[1],z=D(Object(n.useState)(!1),2),_=z[0],q=z[1],Q=D(Object(n.useState)([]),2),$=Q[0],Y=Q[1];Object(n.useEffect)((function(){j.a.policies("subscription").then((function(e){var t=e.body.list;0===t.length?E.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):t.filter((function(e){return"Unlimited"===e.name})).length>0?Y(["Unlimited"]):Y([t[0].name])}))}),[]);var J=i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{variant:"h5"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.heading",defaultMessage:[{type:0,value:"Create an API Product"}]})),i.a.createElement(v.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.sub.heading",defaultMessage:[{type:0,value:"Create an API Product by providing a Name, a Context, Resources, and Business Plans (optional)."}]})));var K=D(Object(n.useReducer)((function(e,t){var a=t.action,r=t.value;switch(a){case"type":case"name":case"context":case"version":case"isFormValid":case"apiResources":return L(L({},e),{},k({},a,r));case"preSetAPI":return L(L({},e),{},{name:r.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),context:r.context});default:return e}}),{type:"ApiProductCreateWrapper",inputValue:"",formValidity:!1}),2),Z=K[0],X=K[1];var ee,te=D(Object(n.useState)(),2),ae=te[0],re=te[1],ne=V(),ie=[i.a.createElement(p.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.defineProvide",defaultMessage:[{type:0,value:"Define API Product"}]}),i.a.createElement(p.a,{variant:"caption",id:"Apis.Create.APIProduct.APIProductCreateWrapper.resources",defaultMessage:[{type:0,value:"Add Resources"}]})],oe=function(){re(!0);var e={name:Z.name,context:Z.context,policies:$,apis:C,transport:["http","https"]};return(ee=new h.a(e)).saveProduct(e).then((function(e){return E.a.info("API Product created successfully"),e})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error("Something went wrong while adding the API Product")})).finally((function(){return re(!1)})).finally((function(){return re(!1)}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{title:J},i.a.createElement(c.a,null,0===o&&i.a.createElement(d.a,{alternativeLabel:!0,activeStep:0},ie.map((function(e){return i.a.createElement(f.a,{key:e},i.a.createElement(m.a,{className:ne.alternativeLabel},e))}))),1===o&&i.a.createElement(d.a,{alternativeLabel:!0,activeStep:1},ie.map((function(e){return i.a.createElement(f.a,{key:e},i.a.createElement(m.a,null,e))})))),i.a.createElement(s.a,{container:!0,spacing:2},0===o&&i.a.createElement(s.a,{item:!0,md:12}),0===o&&i.a.createElement(s.a,{item:!0,md:1}),i.a.createElement(s.a,{item:!0,md:0===o?11:12},0===o&&i.a.createElement(S.a,{onValidate:function(e){X({action:"isFormValid",value:e})},onChange:function(e){var t=e.target,a=t.name,r=t.value;X({action:a,value:r})},api:Z,isAPIProduct:!0}),1===o&&i.a.createElement(O.a,{apiResources:C,setApiResources:x,isStateCreate:!0,api:Z})),0===o&&i.a.createElement(s.a,{item:!0,md:1}),i.a.createElement(s.a,{item:!0,md:9},i.a.createElement(s.a,{className:1===o&&ne.saveButton,container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(s.a,{item:!0},1===o&&i.a.createElement(y.a,{onClick:function(){return l((function(e){return e-1}))}},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.back",defaultMessage:[{type:0,value:"Back"}]})),0===o&&i.a.createElement(g.c,{to:"/api-products/"},i.a.createElement(y.a,null,i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.cancel",defaultMessage:[{type:0,value:"Cancel"}]})))),i.a.createElement(s.a,{item:!0},1===o&&i.a.createElement(y.a,{variant:"contained",color:"primary",disabled:!Z.isFormValid||ae||0===C.length||M,onClick:function(){oe().then((function(e){t.push("/api-products/".concat(e.id,"/overview"))}))},id:"create-api-product-btn"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.create",defaultMessage:[{type:0,value:"Create"}]}),ae&&!M&&i.a.createElement(P.a,{size:24})),0===o&&i.a.createElement(y.a,{onClick:function(){return l((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!Z.isFormValid,id:"api-product-next-btn"},i.a.createElement(p.a,{id:"Apis.Create.APIProduct.APIProductCreateWrapper.next",defaultMessage:[{type:0,value:"Next"}]}))),i.a.createElement(s.a,{item:!0},1===o&&!w.a.isNotPublisher()&&i.a.createElement(y.a,{variant:"contained",color:"primary",id:"create-and-publish-api-product-btn",disabled:!Z.isFormValid||ae||0===C.length||B||H||!Z.isFormValid,onClick:function(){R(!0),oe().then((function(e){N(!0),E.a.info("API Product created successfully");ee.createProductRevision(e.id,{description:"Initial Revision"}).then((function(r){N(!1);var n=r.body.id;E.a.info("API Revision created successfully");var i=T.environment.map((function(e){return e.name})),o=[],l=function(e){var t=T.environment.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};i&&i.length>0&&(i.includes("Default")&&l("Default")?o.push({name:"Default",displayOnDevportal:!0,vhost:l("Default")}):l(i[0])&&o.push({name:i[0],displayOnDevportal:!0,vhost:l(i[0])})),U(!0),ee.deployProductRevision(e.id,n,o).then((function(){E.a.info("API Product Revision Deployed Successfully"),U(!1),q(!0),ee.updateLcState(e.id,"Publish").then((function(r){"CREATED"===r.body.workflowStatus?E.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]})):E.a.info(a.formatMessage({id:"Apis.Create.APIProduct.APIProductCreateWrapper.otherStatus",defaultMessage:[{type:0,value:"API Product status updated successfully"}]})),t.push("/api-products/".concat(e.id,"/overview"))}))})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error(a.formatMessage({id:"Apis.APIProductCreateWrapper.error.errorMessage.deploy.revision",defaultMessage:[{type:0,value:"Something went wrong while deploying the API Product Revision"}]})),console.error(e)})).finally((function(){q(!1),R(!1)}))})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error(a.formatMessage({id:"Apis.APIProductCreateWrapper.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Product Revision"}]})),console.error(e)}))})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error("Something went wrong while adding the API Product")})).finally((function(){return re(!1)}))}},!_&&!H&&!B&&"Create & Publish",(_||H||B)&&i.a.createElement(P.a,{size:24}),ae&&_&&"Creating API Product. . .",!ae&&H&&!B&&"Creating Revision . . .",!ae&&_&&!H&&!B&&"Publishing API Product. . .",!ae&&_&&!H&&B&&"Deploying Revision . . .")))))))}R(W,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseState{[apiResources, setApiResources]([])}\nuseAppContext{{ settings }}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiProductCreateWrapper',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}\nuseStyles{classes}",(function(){return[u.a,I.c,V]})),W.propTypes={history:l.a.shape({push:l.a.func}).isRequired},(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(V,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/APIProduct/APIProductCreateWrapper.jsx"),G.register(W,"ApiProductCreateWrapper","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/APIProduct/APIProductCreateWrapper.jsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)}).call(this,a(43)(e))},4912:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(382),s=a(1644);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function d(e){var t=e.title,a=e.children;return i.a.createElement(s.a,{container:!0,spacing:3},i.a.createElement(s.a,{item:!0,sm:12,md:12}),i.a.createElement(s.a,{item:!0,sm:0,md:2}),i.a.createElement(s.a,{item:!0,sm:12,md:8},i.a.createElement(s.a,{container:!0,spacing:5},i.a.createElement(s.a,{item:!0,md:12},t),i.a.createElement(s.a,{item:!0,md:12},i.a.createElement(c.a,{elevation:0},a)))),i.a.createElement(s.a,{item:!0,sm:0,md:2}))}d.propTypes={title:l.a.element.isRequired,children:l.a.element.isRequired},(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(d,"APICreateProductBase","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/Components/APICreateProductBase.jsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(43)(e))},4913:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return D}));var r,n,i,o=a(0),l=a.n(o),c=a(28),s=a.n(c),u=a(91),p=a(224),d=a(1644),f=a(34),m=a(5249),b=a(5250),y=a(5281),v=a(1645),g=a(180),h=a(721),E=a(727),P=a(5217),A=a(1066),S=a(1139),O=a(1581);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t){var a,r=t.action,n=t.value;switch(r){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"policies":case"isFormValid":return x(x({},e),{},L({},r,n));case"inputType":return x(x({},e),{},(L(a={},r,n),L(a,"inputValue","url"===n?"":null),a));case"preSetAPI":return x(x({},e),{},{name:n.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:n.version,context:n.context,endpoint:n.endpoints&&n.endpoints[0]});default:return e}}function D(e){var t=w(Object(o.useState)(0),2),a=t[0],r=t[1],n=e.history,i=w(Object(o.useReducer)(k,{type:"ApiCreateOpenAPI",inputType:"url",inputValue:"",formValidity:!1}),2),c=i[0],s=i[1];function j(e){s({action:"isFormValid",value:e})}var I=w(Object(o.useState)(),2),C=I[0],x=I[1];return l.a.createElement(S.a,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{variant:"h5"},l.a.createElement(f.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.heading",defaultMessage:[{type:0,value:"Create an API using an OpenAPI definition."}]})),l.a.createElement(u.a,{variant:"caption"},l.a.createElement(f.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.sub.heading",defaultMessage:[{type:0,value:"Create an API using an existing OpenAPI definition file or URL."}]})))},l.a.createElement(p.a,null,l.a.createElement(m.a,{alternativeLabel:!0,activeStep:0},l.a.createElement(b.a,null,l.a.createElement(y.a,null,l.a.createElement(f.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.one",defaultMessage:[{type:0,value:"Provide OpenAPI"}]}))),l.a.createElement(b.a,null,l.a.createElement(y.a,null,l.a.createElement(f.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),l.a.createElement(d.a,{container:!0,spacing:3},l.a.createElement(d.a,{item:!0,xs:12}),l.a.createElement(d.a,{item:!0,xs:1}),l.a.createElement(d.a,{item:!0,xs:11},0===a&&l.a.createElement(O.a,{onValidate:j,apiInputs:c,inputsDispatcher:s}),1===a&&l.a.createElement(A.a,{onValidate:j,onChange:function(e){var t=e.target,a=t.name,r=t.value;s({action:a,value:r})},api:c,isAPIProduct:!1})),l.a.createElement(d.a,{item:!0,xs:1}),l.a.createElement(d.a,{item:!0,xs:11},l.a.createElement(d.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(d.a,{item:!0},0===a&&l.a.createElement(g.c,{to:"/apis/"},l.a.createElement(v.a,null,l.a.createElement(f.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&l.a.createElement(v.a,{onClick:function(){return r((function(e){return e-1}))}},"Back")),l.a.createElement(d.a,{item:!0},0===a&&l.a.createElement(v.a,{onClick:function(){return r((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!c.isFormValid,id:"open-api-create-next-btn"},"Next"),1===a&&l.a.createElement(v.a,{variant:"contained",color:"primary",disabled:!c.isFormValid||C,onClick:function(){x(!0);var e=c.name,t=c.version,a=c.context,r=c.endpoint,i=c.policies,o=c.inputValue,l=c.inputType,s={name:e,version:t,context:a,policies:i};r&&(s.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:r},production_endpoints:{url:r}});var u=new h.a(s);("file"===l?u.importOpenAPIByFile(o):u.importOpenAPIByUrl(o)).then((function(e){E.a.info("API created successfully"),n.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return x(!1)}))},id:"open-api-create-btn"},"Create"," ",C&&l.a.createElement(P.a,{size:24})))))))}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(D,"useState{[wizardStep, setWizardStep](0)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateOpenAPI',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}"),D.propTypes={history:s.a.shape({push:s.a.func}).isRequired},(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(k,"apiInputsReducer","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/OpenAPI/ApiCreateOpenAPI.jsx"),n.register(D,"ApiCreateOpenAPI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/OpenAPI/ApiCreateOpenAPI.jsx")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(43)(e))},4914:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return R}));var r,n,i,o=a(0),l=a.n(o),c=a(721),s=a(28),u=a.n(s),p=a(91),d=a(224),f=a(1644),m=a(241),b=a(34),y=a(5249),v=a(5250),g=a(5281),h=a(1645),E=a(180),P=a(1367),A=a(727),S=a(5223),O=a(5276),j=a(5271),w=a(5217),I=a(1066),C=a(1139),x=a(1579);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function R(e){var t=Object(m.a)(),a=G(Object(o.useState)(0),2),r=a[0],n=a[1],i=e.history,s=G(Object(o.useState)([]),2),u=s[0],L=s[1];Object(o.useEffect)((function(){c.a.policies("subscription").then((function(e){var a=e.body.list;0===a.length?A.a.info(t.formatMessage({id:"Apis.Create.WSDL.ApiCreateWSDL.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):a.filter((function(e){return"Unlimited"===e.name})).length>0?L(["Unlimited"]):L([a[0].name])}))}),[]);var k=G(Object(o.useReducer)((function(e,t){var a,r=t.action,n=t.value;switch(r){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"isFormValid":return D(D({},e),{},T({},r,n));case"inputType":return D(D({},e),{},(T(a={},r,n),T(a,"inputValue","url"===n?"":null),a));default:return e}}),{type:"SOAP",inputType:"url",inputValue:"",formValidity:!1,mode:"create"}),2),M=k[0],R=k[1];function V(e){R({action:"isFormValid",value:e})}var W=G(Object(o.useState)(),2),H=W[0],N=W[1];return l.a.createElement(C.a,{title:l.a.createElement(l.a.Fragment,null,1===r&&"SOAPTOREST"===M.type&&l.a.createElement(d.a,{mb:2},l.a.createElement(O.a,{severity:"warning"},l.a.createElement(j.a,null,l.a.createElement(b.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.deprecated.msg",defaultMessage:[{type:0,value:"APIM supports only a limited set of capabilities with this feature. If you want to process complex WSDL/XML schema, please refer to the following documentation."}]})),l.a.createElement(S.a,{href:"https://apim.docs.wso2.com/en/4.2.0/integrate/develop/creating-artifacts/creating-an-api/",target:"_blank"},"WSO2 Integration Studio Documentation"))),l.a.createElement(p.a,{variant:"h5"},l.a.createElement(b.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.heading",defaultMessage:[{type:0,value:"Expose a SOAP Service as a REST API"}]})),l.a.createElement(p.a,{variant:"caption"},l.a.createElement(b.a,{id:"Apis.Create.WSDL.ApiCreateWSDL.sub.heading",defaultMessage:[{type:0,value:"Expose an existing SOAP service as a REST API by importing the WSDL of the SOAP service."}]})))},l.a.createElement(d.a,null,l.a.createElement(y.a,{alternativeLabel:!0,activeStep:r},l.a.createElement(v.a,null,l.a.createElement(g.a,null,"Provide WSDL")),l.a.createElement(v.a,null,l.a.createElement(g.a,null,"Create API")))),l.a.createElement(f.a,{container:!0,spacing:3},l.a.createElement(f.a,{item:!0,md:12}),l.a.createElement(f.a,{item:!0,md:1}),l.a.createElement(f.a,{item:!0,md:11},0===r&&l.a.createElement(x.a,{onValidate:V,apiInputs:M,inputsDispatcher:R}),1===r&&l.a.createElement(I.a,{onValidate:V,onChange:function(e){var t=e.target,a=t.name,r=t.value;R({action:a,value:r})},api:M,isAPIProduct:!1})),l.a.createElement(f.a,{item:!0,md:1}),l.a.createElement(f.a,{item:!0,md:9},l.a.createElement(f.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(f.a,{item:!0},0===r&&l.a.createElement(E.c,{to:"/apis/"},l.a.createElement(h.a,null,l.a.createElement(b.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===r&&l.a.createElement(h.a,{onClick:function(){return n((function(e){return e-1}))}},"Back")),l.a.createElement(f.a,{item:!0},0===r&&l.a.createElement(h.a,{onClick:function(){return n((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!M.isFormValid},"Next"),1===r&&l.a.createElement(h.a,{variant:"contained",color:"primary",disabled:!M.isFormValid||H,onClick:function(){N(!0);var e=M.name,t=M.version,a=M.context,r=M.endpoint,n=M.type,o={name:e,version:t,context:a,policies:u};r&&(o.endpointConfig={endpoint_type:"SOAPTOREST"===n?"address":"http",sandbox_endpoints:{type:"SOAPTOREST"===n?"address":void 0,url:r},production_endpoints:{type:"SOAPTOREST"===n?"address":void 0,url:r}}),("url"===M.inputType?P.a.importByUrl(M.inputValue,o,M.type):P.a.importByFileOrArchive(M.inputValue,o,M.type)).then((function(e){A.a.info("API created successfully"),i.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?A.a.error(e.response.body.description):A.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return N(!1)}))}},"Create"," ",H&&l.a.createElement(w.a,{size:24})))))))}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(R,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'SOAP',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n        mode: 'create',\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[m.a]})),R.propTypes={history:u.a.shape({push:u.a.func}).isRequired},(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(R,"ApiCreateWSDL","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/WSDL/ApiCreateWSDL.jsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(43)(e))},4915:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return k}));var r,n,i,o=a(0),l=a.n(o),c=a(91),s=a(224),u=a(1644),p=a(241),d=a(34),f=a(5249),m=a(5250),b=a(5281),y=a(1645),v=a(21),g=a(180),h=a(721),E=a(727),P=a(5217),A=a(1066),S=a(1139),O=a(1598);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function k(){var e=Object(p.a)(),t=x(Object(o.useState)(0),2),a=t[0],r=t[1],n=Object(v.i)(),i=x(Object(o.useState)([]),2),j=i[0],w=i[1];Object(o.useEffect)((function(){h.a.policies("subscription").then((function(t){var a=t.body.list;0===a.length?E.a.info(e.formatMessage({id:"Apis.Create.GraphQL.ApiCreateGraphQL.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):a.filter((function(e){return"Unlimited"===e.name})).length>0?w(["Unlimited"]):w([a[0].name])}))}),[]);var L=x(Object(o.useReducer)((function(e,t){var a,r=t.action,n=t.value;switch(r){case"type":case"inputValue":case"name":case"version":case"endpoint":case"context":case"isFormValid":return I(I({},e),{},C({},r,n));case"inputType":return I(I({},e),{},(C(a={},r,n),C(a,"inputValue","url"===n?"":null),a));case"graphQLInfo":return I(I({},e),{},C({},r,n));case"preSetAPI":return I(I({},e),{},{name:n.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:n.version,context:n.context});default:return e}}),{type:"ApiCreateGraphQL",inputType:"file",inputValue:"",formValidity:!1}),2),k=L[0],D=L[1];function T(e){D({action:"isFormValid",value:e})}var G=x(Object(o.useState)(),2),M=G[0],R=G[1];return l.a.createElement(S.a,{title:l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{variant:"h5"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.heading",defaultMessage:[{type:0,value:"Create an API using a GraphQL SDL definition"}]})),l.a.createElement(c.a,{variant:"caption"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.sub.heading",defaultMessage:[{type:0,value:"Create an API by importing an existing GraphQL SDL definition."}]})))},l.a.createElement(s.a,null,0===a&&l.a.createElement(f.a,{alternativeLabel:!0,activeStep:0},l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:[{type:0,value:"Provide GraphQL"}]}))),l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:[{type:0,value:"Create API"}]})))),1===a&&l.a.createElement(f.a,{alternativeLabel:!0,activeStep:1},l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.one",defaultMessage:[{type:0,value:"Provide GraphQL"}]}))),l.a.createElement(m.a,null,l.a.createElement(b.a,null,l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),l.a.createElement(u.a,{container:!0,spacing:3,style:{marginBottom:20}},l.a.createElement(u.a,{item:!0,md:12}),l.a.createElement(u.a,{item:!0,md:1}),l.a.createElement(u.a,{item:!0,md:11},0===a&&l.a.createElement(O.a,{onValidate:T,apiInputs:k,inputsDispatcher:D}),1===a&&l.a.createElement(A.a,{onValidate:T,onChange:function(e){var t=e.target,a=t.name,r=t.value;D({action:a,value:r})},api:k,isAPIProduct:!1})),l.a.createElement(u.a,{item:!0,md:1}),l.a.createElement(u.a,{item:!0,md:9},l.a.createElement(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},l.a.createElement(u.a,{item:!0},0===a&&l.a.createElement(g.c,{to:"/apis/"},l.a.createElement(y.a,null,l.a.createElement(d.a,{id:"Apis.Create.OpenAPI.ApiCreateOpenAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&l.a.createElement(y.a,{onClick:function(){return r((function(e){return e-1}))}},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.back",defaultMessage:[{type:0,value:"Back"}]}))),l.a.createElement(u.a,{item:!0},0===a&&l.a.createElement(y.a,{onClick:function(){return r((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!k.isFormValid,"data-testid":"create-graphql-next-btn"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.next",defaultMessage:[{type:0,value:"Next"}]})),1===a&&l.a.createElement(y.a,{variant:"contained",color:"primary",disabled:!k.isFormValid||M,onClick:function(){var e;R(!0);var t=k.name,a=k.version,r=k.context,i=k.endpoint,o=k.implementationType,l=k.inputValue,c=k.graphQLInfo.operations,s={name:t,version:a,context:r,policies:j,operations:c};i&&(s.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:i},production_endpoints:{url:i}});var u=new h.a(s),p=(C(e={additionalProperties:JSON.stringify(s),implementationType:o},"file","file"),C(e,"file",l),e);u.importGraphQL(p).then((function(e){var a=e.obj.id;E.a.info("".concat(t," API created successfully")),n.push("/apis/".concat(a,"/overview"))})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return R(!1)}))},"data-testid":"itest-create-graphql-api-button"},l.a.createElement(d.a,{id:"Apis.Create.GraphQL.ApiCreateGraphQL.create",defaultMessage:[{type:0,value:"Create"}]})," ",M&&l.a.createElement(P.a,{size:24})))))))}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(k,"useIntl{intl}\nuseState{[wizardStep, setWizardStep](0)}\nuseHistory{history}\nuseState{[policies, setPolicies]([])}\nuseEffect{}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateGraphQL',\n        inputType: 'file',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[p.a,v.i]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(k,"ApiCreateGraphQL","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/GraphQL/ApiCreateGraphQL.jsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,a(43)(e))},4916:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(2377);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,c,s=function(){return i.a.createElement(o.a,{isWebSocket:!0})},u=s;t.a=u,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,"ApiCreateWebSocket","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/WebSocket/ApiCreateWebSocket.jsx"),l.register(u,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/WebSocket/ApiCreateWebSocket.jsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,a(43)(e))},4917:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(91),l=a(224),c=a(241),s=a(34),u=a(21),p=a(1644),d=a(1645),f=a(180),m=a(1654),b=a(1660),y=a(1749),v=a(330),g=a(5217),h=a(721),E=a(727),P=a(1139),A=a(851),S=a(1066),O=a(822),j=a(100);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},T=Object(v.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)}}})),G=function e(t){var a=t.history,r=Object(c.a)(),v=Object(O.d)(),w=v.data,I=v.isLoading,k=v.error,D=L(Object(n.useState)(null),2),G=D[0],M=D[1];Object(n.useEffect)((function(){k&&M(k.message)}),[k]);var R=L(Object(n.useState)(),2),V=R[0],W=R[1],H=L(Object(n.useState)(!1),2),N=H[0],F=H[1],B=L(Object(n.useState)(!1),2),U=B[0],z=B[1],_=L(Object(n.useState)(!1),2),q=_[0],Q=_[1],$=L(Object(n.useState)(!1),2),Y=$[0],J=$[1],K=T(),Z=L(Object(n.useState)([]),2),X=Z[0],ee=Z[1],te=Object(u.k)().apiType;te&&(te=te.toUpperCase());var ae="WEBSUB"===te;Object(n.useEffect)((function(){h.a.asyncAPIPolicies().then((function(e){var t=e.body.list;0===t.length?E.a.info(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.policies.not.available",defaultMessage:[{type:0,value:"Throttling policies not available. Contact your administrator"}]})):ae&&t.filter((function(e){return"AsyncWHUnlimited"===e.policyName})).length>0?ee(["AsyncWHUnlimited"]):!ae&&t.filter((function(e){return"AsyncUnlimited"===e.policyName})).length>0?ee(["AsyncUnlimited"]):ee([t[0].policyName])}))}),[]);var re={WebSocket:"WS",SSE:"SSE",WebSub:"WEBSUB"},ne=L(Object(n.useState)(!te||te===re.WebSub),2),ie=ne[0],oe=ne[1];var le=L(Object(n.useReducer)((function(e,t){var a=t.action,r=t.value;switch(a){case"name":case"version":case"context":case"endpoint":case"policies":case"isFormValid":return C(C({},e),{},x({},a,r));case"protocol":return oe(re[r]===re.WebSub),C(C({},e),{},x({},a,re[r]));default:return e}}),{formValidity:!1}),2),ce=le[0],se=le[1],ue=ce.name&&ce.context&&ce.version&&!V;function pe(e){var t=e.target,a=t.name,r=t.value;se({action:a,value:r})}function de(){W(!0);var e=ce.name,t=ce.version,a=ce.context,r=ce.endpoint,n=ce.protocol,i={name:e,version:t,context:a,endpoint:r,type:te||n.toUpperCase(),policies:X},o="http";return(te&&"WS"===te.toUpperCase()||n&&"WS"===n.toUpperCase())&&(o="ws"),r&&(i.endpointConfig={endpoint_type:o,sandbox_endpoints:{url:r},production_endpoints:{url:r}}),new h.a(i).saveStreamingAPI().then((function(e){return E.a.info("API created successfully"),e})).catch((function(e){e.response?E.a.error(e.response.body.description):E.a.error("Something went wrong while adding the API"),console.error(e),F(!1)})).finally((function(){W(!1)})).finally((function(){return W(!1)}))}var fe=i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{variant:"h5"},i.a.createElement(s.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.api.heading",defaultMessage:[{type:0,value:"Create a Streaming API"}]})),i.a.createElement(o.a,{variant:"caption"},ae?i.a.createElement(s.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.websub.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version and a Context"}]}):i.a.createElement(s.a,{id:"Apis.Create.StreamingAPI.APICreateStreamingAPI.api.sub.heading",defaultMessage:[{type:0,value:"Create an API by providing a Name, a Version, a Context and the Endpoint"}]})));return i.a.createElement(P.a,{title:fe},i.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},G&&i.a.createElement(p.a,{item:!0,xs:11},i.a.createElement(A.a,{onClose:function(){return M(null)},disableActions:!0,dense:!0,paperProps:{elevation:1},type:"error",message:G})),i.a.createElement(p.a,{item:!0,xs:12},I&&i.a.createElement(l.a,{mt:-2},i.a.createElement(g.a,{"data-testid":"loading-publisher-settings"}))),i.a.createElement(p.a,{item:!0,xs:12}),i.a.createElement(p.a,{item:!0,md:1,xs:0}),i.a.createElement(p.a,{item:!0,md:11,xs:12},i.a.createElement(S.a,{onValidate:function(e){se({action:"isFormValid",value:e})},onChange:pe,api:ce,endpointPlaceholderText:"Streaming Provider",appendChildrenBeforeEndpoint:!0,hideEndpoint:ie,isWebSocket:te&&te===re.WebSocket||ce.protocol===re.WebSocket},i.a.createElement(m.a,{fullWidth:!0,select:!0,label:i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{id:"Apis.Create.streaming.Components.SelectPolicies.business.plans",defaultMessage:[{type:0,value:"Protocol"}]}),i.a.createElement("sup",{className:K.mandatoryStar},"*")),value:te?{WS:"WebSocket",SSE:"SSE",WEBSUB:"WebSub"}[te]:ce.protocol,disabled:te,name:"protocol",SelectProps:{multiple:!1,renderValue:function(e){return e}},margin:"normal",variant:"outlined",InputProps:{id:"itest-id-apipolicies-input"},onChange:pe},[{displayName:"WebSocket",description:"WebSocket API"},{displayName:"WebSub",description:"WebHook API based on WebSub specification"},{displayName:"SSE",description:"Server-Sent Events"}].map((function(e){return i.a.createElement(b.a,{dense:!0,disableGutters:!1,value:e.displayName},i.a.createElement(y.a,{primary:e.displayName,secondary:e.description}))}))))),i.a.createElement(p.a,{item:!0,md:1,xs:0}),i.a.createElement(p.a,{item:!0,md:11,xs:12},i.a.createElement(p.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(p.a,{item:!0},i.a.createElement(d.a,{variant:"contained",color:"primary",disabled:!(ue&&ce.isFormValid),onClick:function(){de().then((function(e){a.push("/apis/".concat(e.id,"/overview"))}))},"data-testid":"itest-create-streaming-api-button"},"Create"," ",V&&!Y&&i.a.createElement(g.a,{size:24}))),!j.a.isNotPublisher()&&i.a.createElement(p.a,{item:!0},i.a.createElement(d.a,{id:"itest-id-apicreatedefault-createnpublish",variant:"contained",color:"primary",disabled:q||U||!ue||!ce.isFormValid,onClick:function(){var t=new h.a;J(!0),de().then((function(n){z(!0);t.createRevision(n.id,{description:"Initial Revision"}).then((function(i){var o=i.body.id;E.a.info("API Revision created successfully"),z(!1);var l=w.environment.map((function(e){return e.name})),c=[],s=function(e){var t=w.environment.find((function(t){return t.name===e&&t.vhosts.length>0}));return t&&t.vhosts[0].host};l&&l.length>0&&(l.includes("Default")&&s("Default")?c.push({name:"Default",displayOnDevportal:!0,vhost:s("Default")}):s(l[0])&&c.push({name:l[0],displayOnDevportal:!0,vhost:s(l[0])})),Q(!0),t.deployRevision(n.id,o,c).then((function(){E.a.info("API Revision Deployed Successfully"),Q(!1),F(!0),n.publish().then((function(t){t.body.workflowStatus===e.WORKFLOW_STATUS.CREATED?E.a.info(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.publishStatus",defaultMessage:[{type:0,value:"Lifecycle state change request has been sent"}]})):E.a.info(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.success.otherStatus",defaultMessage:[{type:0,value:"API updated successfully"}]})),a.push("/apis/".concat(n.id,"/overview"))})).catch((function(e){e.response?(E.a.error(e.response.body.description),M(e.response.body)):(E.a.error(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.publish",defaultMessage:[{type:0,value:"Something went wrong while publishing the API"}]})),M("Something went wrong while publishing the API")),console.error(e)})).finally((function(){F(!1),J(!1)}))})).catch((function(e){e.response?(E.a.error(e.response.body.description),M(e.response.body)):(E.a.error(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.deploy.revision",defaultMessage:[{type:0,value:"Something went wrong while deploying the API Revision"}]})),M("Something went wrong while deploying the API Revision")),console.error(e)})).finally((function(){Q(!1)}))})).catch((function(e){e.response?(E.a.error(e.response.body.description),M(e.response.body)):(E.a.error(r.formatMessage({id:"Apis.Create.Default.APICreateDefault.error.errorMessage.create.revision",defaultMessage:[{type:0,value:"Something went wrong while creating the API Revision"}]})),M("Something went wrong while creating the API Revision")),console.error(e)})).finally((function(){z(!1)}))}))}},!N&&!U&&!q&&"Create & Publish",(N||U||q)&&i.a.createElement(g.a,{size:24}),V&&N&&"Creating API . . .",!V&&U&&!q&&"Creating Revision . . .",!V&&N&&!U&&!q&&"Publishing API . . .",!V&&N&&!U&&q&&"Deploying Revision . . .")),i.a.createElement(p.a,{item:!0},i.a.createElement(f.c,{to:"/apis/"},i.a.createElement(d.a,{variant:"text"},i.a.createElement(s.a,{id:"Apis.Create.Default.APICreateDefault.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))))))))};D(G,"useIntl{intl}\nusePublisherSettings{{ data: settings, isLoading, error: settingsError }}\nuseState{[pageError, setPageError](null)}\nuseEffect{}\nuseState{[isCreating, setIsCreating]}\nuseState{[isPublishing, setIsPublishing](false)}\nuseState{[isRevisioning, setIsRevisioning](false)}\nuseState{[isDeploying, setIsDeploying](false)}\nuseState{[isPublishButtonClicked, setIsPublishButtonClicked](false)}\nuseStyles{classes}\nuseState{[policies, setPolicies]([])}\nuseParams{{ apiType }}\nuseEffect{}\nuseState{[hideEndpoint, setHideEndpoint](!apiType || apiType === protocolKeys.WebSub)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        formValidity: false,\n    })}",(function(){return[c.a,O.d,T,u.k]})),G.WORKFLOW_STATUS={CREATED:"CREATED"};var M,R,V=Object(u.l)(G);t.a=V,(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(T,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx"),M.register(G,"APICreateStreamingAPI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx"),M.register(V,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/StreamingAPI/APICreateStreamingAPI.jsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)}).call(this,a(43)(e))},4918:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return W}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(91),s=a(224),u=a(1644),p=a(34),d=a(5249),f=a(5250),m=a(5281),b=a(1645),y=a(180),v=a(721),g=a(727),h=a(5217),E=a(1066),P=a(1139),A=a(1660),S=a(1749),O=a(1654),j=a(330),w=a(2448),I=a(1092),C=a.n(I),x=a(955),L=a(4919),k=a(1580);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,l=[],c=!0,s=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,n=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function W(e){var t=R(Object(n.useState)(0),2),a=t[0],r=t[1],o=e.history,l=F(),j=R(Object(n.useState)(!0),2),I=j[0],D=j[1],T=R(Object(n.useState)(!0),2),V=T[0],W=T[1],H=R(Object(n.useState)(!0),2),N=H[0],B=H[1];var U=R(Object(n.useReducer)((function(e,t){var a,r=t.action,n=t.value;switch(r){case"type":case"inputValue":case"name":case"version":case"endpoint":case"gatewayVendor":case"asyncTransportProtocols":case"protocol":case"context":case"policies":case"isFormValid":return G(G({},e),{},M({},r,n));case"inputType":return G(G({},e),{},(M(a={},r,n),M(a,"inputValue","url"===n?"":null),a));case"preSetAPI":return G(G({},e),{},{name:n.name.replace(/[&/\\#,+()$~%.'":*?<>{}\s]/g,""),version:n.version,context:n.context,endpoint:n.endpoints&&n.endpoints[0],gatewayVendor:n.gatewayVendor,asyncTransportProtocols:n.asyncTransportProtocols});case"externalEndpoint":return G(G({},e),{},M({},r,n));default:return e}}),{type:"ApiCreateAsyncAPI",inputType:"url",inputValue:"",formValidity:!1}),2),z=U[0],_=U[1],q={WebSocket:"WS",SSE:"SSE",WebSub:"WEBSUB",Other:"ASYNC"};function Q(e){return!!e&&!C.a.string().uri().empty().validate(e).error}function $(e){_({action:"isFormValid",value:e})}var Y=R(Object(n.useState)(),2),J=Y[0],K=Y[1];return i.a.createElement(P.a,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{variant:"h5"},i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.heading",defaultMessage:[{type:0,value:"Create an API using an AsyncAPI definition."}]})),i.a.createElement(c.a,{variant:"caption"},i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.sub.heading",defaultMessage:[{type:0,value:"Create an API using an existing AsyncAPI definition file or URL."}]})))},i.a.createElement(s.a,null,i.a.createElement(d.a,{alternativeLabel:!0,activeStep:0},i.a.createElement(f.a,null,i.a.createElement(m.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.wizard.one",defaultMessage:[{type:0,value:"Provide AsyncAPI"}]}))),i.a.createElement(f.a,null,i.a.createElement(m.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.wizard.two",defaultMessage:[{type:0,value:"Create API"}]}))))),i.a.createElement(u.a,{container:!0,spacing:3},i.a.createElement(u.a,{item:!0,xs:12}),i.a.createElement(u.a,{item:!0,xs:1}),i.a.createElement(u.a,{item:!0,xs:11},0===a&&i.a.createElement(k.a,{onValidate:$,apiInputs:z,inputsDispatcher:_}),1===a&&i.a.createElement(E.a,{onValidate:$,onChange:function(e){var t=e.target,a=t.name,r=t.value;_({action:a,value:r})},api:z,isAPIProduct:!1,hideEndpoint:I,endpointPlaceholderText:"Streaming Provider",appendChildrenBeforeEndpoint:!0},i.a.createElement(u.a,{container:!0,spacing:2},"solace"===z.gatewayVendor&&0!==z.asyncTransportProtocols.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{item:!0,xs:12,md:6,lg:3},i.a.createElement(c.a,{component:"p",variant:"subtitle2"},i.a.createElement(p.a,{id:"Apis.Details.NewOverview.MetaData.solace.transports",defaultMessage:[{type:0,value:"Available Protocols"}]}))),i.a.createElement(u.a,{item:!0,xs:12,md:6,lg:9},z.asyncTransportProtocols.map((function(e){return i.a.createElement(w.a,{"data-testid":Object(x.c)(e)+"-label",key:e,label:Object(x.c)(e),style:{"font-size":13,height:20,marginRight:5},color:"primary"})}))))),"wso2"===z.gatewayVendor&&i.a.createElement(O.a,{fullWidth:!0,select:!0,label:i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{id:"Apis.Create.asyncAPI.Components.SelectPolicies.business.plans",defaultMessage:[{type:0,value:"Protocol"}]}),i.a.createElement("sup",{className:l.mandatoryStar},"*")),value:z.protocol,name:"protocol",SelectProps:{multiple:!1,renderValue:function(e){return e}},margin:"normal",variant:"outlined",InputProps:{id:"itest-id-apipolicies-input"},onChange:function(e){var t=e.target,a=t.name,r=t.value;"WebSub"===r?(D(!0),W(!0),B(!0)):"Other"===r?(D(!0),W(!1),B(Q(z.externalEndpoint))):(D(!1),W(!0),B(!0)),_({action:a,value:r})}},[{name:"ws",displayName:"WebSocket",description:"WebSocket API"},{name:"websub",displayName:"WebSub",description:"WebHook API based on WebSub specification"},{name:"sse",displayName:"SSE",description:"Server-Sent Events"},{name:"other",displayName:"Other",description:"Other Async APIs such as AMQP, MQTT etc."}].map((function(e){return i.a.createElement(A.a,{dense:!0,disableGutters:!1,id:e.name,key:e.name,value:e.displayName},i.a.createElement(S.a,{primary:e.displayName,secondary:e.description}))}))),!V&&i.a.createElement(L.a,{classes:l,apiInputs:z,inputsDispatcher:_,isValidExternalEndpoint:N,setValidExternalEndpoint:B,validateEndpoint:Q}))),i.a.createElement(u.a,{item:!0,xs:1}),i.a.createElement(u.a,{item:!0,xs:11},i.a.createElement(u.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},i.a.createElement(u.a,{item:!0},0===a&&i.a.createElement(y.c,{to:"/apis/"},i.a.createElement(b.a,null,i.a.createElement(p.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.cancel",defaultMessage:[{type:0,value:"Cancel"}]}))),1===a&&i.a.createElement(b.a,{onClick:function(){return r((function(e){return e-1}))}},"Back")),i.a.createElement(u.a,{item:!0},0===a&&i.a.createElement(b.a,{"data-testid":"next-btn",onClick:function(){return r((function(e){return e+1}))},variant:"contained",color:"primary",disabled:!z.isFormValid},"Next"),1===a&&i.a.createElement(b.a,{"data-testid":"asyncapi-create-btn",variant:"contained",color:"primary",disabled:!z.isFormValid||J||!N,onClick:function(){K(!0);var e=z.name,t=z.version,a=z.context,r=z.endpoint,n=z.policies,i=z.inputValue,l=z.inputType,c=z.protocol,s=z.gatewayVendor,u=z.externalEndpoint,p={name:e,version:t,context:a,policies:n,type:q[c],gatewayVendor:s};"solace"===s&&(p.type=q.WebSub),r&&(p.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:r},production_endpoints:{url:r}}),"ASYNC"===q[c]&&(p.advertiseInfo={advertised:!0,apiExternalProductionEndpoint:u,apiExternalSandboxEndpoint:u,originalDevPortalUrl:"",apiOwner:"admin",vendor:"WSO2"});var d=new v.a(p);("file"===l?d.importAsyncAPIByFile(i):d.importAsyncAPIByUrl(i)).then((function(e){g.a.info("API created successfully"),o.push("/apis/".concat(e.id,"/overview"))})).catch((function(e){e.response?g.a.error(e.response.body.description):g.a.error("Something went wrong while adding the API"),console.error(e)})).finally((function(){return K(!1)}))}},"Create"," ",J&&i.a.createElement(h.a,{size:24})))))))}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(W,"useState{[wizardStep, setWizardStep](0)}\nuseStyles{classes}\nuseState{[hideEndpoint, setHideEndpoint](true)}\nuseState{[hideExternalEndpoint, setHideExternalEndpoint](true)}\nuseState{[isValidExternalEndpoint, setValidExternalEndpoint](true)}\nuseReducer{[apiInputs, inputsDispatcher]({\n        type: 'ApiCreateAsyncAPI',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n    })}\nuseState{[isCreating, setCreating]}",(function(){return[F]})),W.propTypes={history:l.a.shape({push:l.a.func}).isRequired};var H,N,F=Object(j.a)((function(e){return{mandatoryStar:{color:e.palette.error.main,marginLeft:e.spacing(.1)},externalEndpointWarning:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},alertTitle:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}));(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(W,"ApiCreateAsyncAPI","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/ApiCreateAsyncAPI.jsx"),H.register(F,"useStyles","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/ApiCreateAsyncAPI.jsx")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)}).call(this,a(43)(e))},4919:function(e,t,a){"use strict";(function(e){var r,n=a(0),i=a.n(n),o=a(34),l=a(1654),c=a(1040),s=a(91);(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,p,d=function(e){var t=e.classes,a=e.apiInputs,r=e.inputsDispatcher,n=e.isValidExternalEndpoint,u=e.setValidExternalEndpoint,p=e.validateEndpoint;return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{fullWidth:!0,id:"itest-id-api-external-endpoint-input",label:i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.externalEndpoint",defaultMessage:[{type:0,value:"External Endpoint"}]}),i.a.createElement("sup",{className:t.mandatoryStar},"*")),name:"externalEndpoint",value:a.externalEndpoint,onChange:function(e){var t=e.target,a=t.name,n=t.value;u(p(n)),r({action:a,value:n})},helperText:!n&&i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.externalEndpoint.error",defaultMessage:[{type:0,value:"Invalid Endpoint URL"}]})),error:!n,margin:"normal",variant:"outlined"}),i.a.createElement(c.a,{severity:"warning",className:t.externalEndpointWarning},i.a.createElement(s.a,{gutterBottom:!0,component:"div",className:t.alertTitle},i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.advertiseOnly.warning.title",defaultMessage:[{type:0,value:'"Other" type streaming APIs will be created as third party APIs.'}]})),i.a.createElement(o.a,{id:"Apis.Create.AsyncAPI.ApiCreateAsyncAPI.advertiseOnly.warning",defaultMessage:[{type:0,value:"API Manager only supports the streaming APIs of types WebSocket, SSE and WebSub. Please create one of the supported types if you want to deploy it in the gateway."}]})))},f=d;t.a=f,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"ExternalEndpoint","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/ExternalEndpoint.jsx"),u.register(f,"default","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Apis/Create/AsyncAPI/ExternalEndpoint.jsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,a(43)(e))},5270:function(e,t,a){"use strict";var r=a(3),n=a(20),i=a(0),o=a(63),l=a(64),c=a(84),s=a(142),u=a(848),p=i.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.color,p=void 0===s?"primary":s,d=e.value,f=e.valueBuffer,m=e.variant,b=void 0===m?"indeterminate":m,y=Object(n.a)(e,["classes","className","color","value","valueBuffer","variant"]),v=Object(u.a)(),g={},h={bar1:{},bar2:{}};if("determinate"===b||"buffer"===b)if(void 0!==d){g["aria-valuenow"]=Math.round(d),g["aria-valuemin"]=0,g["aria-valuemax"]=100;var E=d-100;"rtl"===v.direction&&(E=-E),h.bar1.transform="translateX(".concat(E,"%)")}else 0;if("buffer"===b)if(void 0!==f){var P=(f||0)-100;"rtl"===v.direction&&(P=-P),h.bar2.transform="translateX(".concat(P,"%)")}else 0;return i.createElement("div",Object(r.a)({className:Object(o.default)(a.root,a["color".concat(Object(l.a)(p))],c,{determinate:a.determinate,indeterminate:a.indeterminate,buffer:a.buffer,query:a.query}[b]),role:"progressbar"},g,{ref:t},y),"buffer"===b?i.createElement("div",{className:Object(o.default)(a.dashed,a["dashedColor".concat(Object(l.a)(p))])}):null,i.createElement("div",{className:Object(o.default)(a.bar,a["barColor".concat(Object(l.a)(p))],("indeterminate"===b||"query"===b)&&a.bar1Indeterminate,{determinate:a.bar1Determinate,buffer:a.bar1Buffer}[b]),style:h.bar1}),"determinate"===b?null:i.createElement("div",{className:Object(o.default)(a.bar,("indeterminate"===b||"query"===b)&&a.bar2Indeterminate,"buffer"===b?[a["color".concat(Object(l.a)(p))],a.bar2Buffer]:a["barColor".concat(Object(l.a)(p))]),style:h.bar2}))}));t.a=Object(c.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(s.j)(t,.62):Object(s.b)(t,.5)},a=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:a},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(p)},5271:function(e,t,a){"use strict";var r=a(3),n=a(20),i=a(0),o=a(84),l=a(91),c=a(63),s=i.forwardRef((function(e,t){var a=e.classes,o=e.className,s=Object(n.a)(e,["classes","className"]);return i.createElement(l.a,Object(r.a)({gutterBottom:!0,component:"div",ref:t,className:Object(c.default)(a.root,o)},s))}));t.a=Object(o.a)((function(e){return{root:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}),{name:"MuiAlertTitle"})(s)},924:function(e,t,a){"use strict";a.d(t,"b",(function(){return A})),a.d(t,"c",(function(){return S})),a.d(t,"a",(function(){return O}));var r=a(749),n=a(721),i=a(768),o=a(945),l=a(1368),c=a(178),s=a(179),u=a(1264),p=a.n(u),d=a(1033),f=a.n(d),m=a(1265),b=a.n(m),y=a(787),v=a.n(y),g=a(727),h=a(34),E=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}c((r=r.apply(e,t||[])).next())}))};const P={alphabetical:o.alphabetical,casing:o.casing,defined:o.defined,enumeration:o.enumeration,falsy:o.falsy,length:o.length,pattern:o.pattern,truthy:o.truthy,undefined:o[void 0],unreferencedReusableObject:o.unreferencedReusableObject,xor:o.xor},A={0:Object(r.jsx)(f.a,{color:"error"}),1:Object(r.jsx)(p.a,{style:{color:c.a[500]}}),2:Object(r.jsx)(b.a,{color:"primary"}),3:Object(r.jsx)(v.a,{style:{color:s.a[500]}})},S={0:"Errors",1:"Warnings",2:"Info",3:"Hints"};function O(e){return E(this,void 0,void 0,(function*(){let t=[];if(e){let a={extends:[l.oas],rules:{}};const o=new i.Spectral;o.setRuleset(a);try{yield o.run(e).then(e=>{e&&(t=t.concat(e))})}catch(e){console.error("OpenAPI linter default ruleset validation failed",e),g.a.error(Object(r.jsx)(h.a,{id:"Apis.Details.APIDefinition.Linting.Linting.default.ruleset.validation.failed",defaultMessage:"OpenAPI linter default ruleset validation failed"}))}let c=yield n.a.getLinterCustomRules().then(e=>e).catch(e=>{console.log("Error retrieving custom linter rules",e),g.a.error(Object(r.jsx)(h.a,{id:"Apis.Details.APIDefinition.Linting.Linting.error.retrieving.custom.rules",defaultMessage:"Error retrieving custom linter rules"}))});if(c){const a=JSON.parse(JSON.stringify(c),(function(e,t){return"function"===e?P[t]:t}));o.setRuleset(a);try{yield o.run(e).then(e=>{e&&(t=t.concat(e))})}catch(e){e instanceof Error&&console.error("OpenAPI linter custom ruleset validation failed\n",e,e.stack),g.a.error(Object(r.jsx)(h.a,{id:"Apis.Details.APIDefinition.Linting.Linting.custom.ruleset.validation.failed",defaultMessage:"OpenAPI linter custom ruleset validation failed"}))}}t=t.sort((function(e,t){return e.severity<t.severity?-1:e.severity>t.severity?1:0}))}return t}))}},969:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return S}));var r,n=a(0),i=a.n(n),o=a(28),l=a.n(o),c=a(1142),s=a(848);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e,r=t?1e3:1024;if(Math.abs(a)<r)return a+" B";var n=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do{a/=r,++i}while(Math.abs(a)>=r&&i<n.length-1);return a.toFixed(1)+" "+n[i]}var v,g,h={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"100px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},E={borderColor:"#2196f3"},P={borderColor:"#00e676"},A={borderColor:"#ff1744"};function S(e){var t=e.message,a=e.onDrop,r=e.error,o=e.children,l=e.accept,u=e.ariaLabel,d=Object(c.b)({onDrop:a}),m=d.getRootProps,b=d.getInputProps,y=d.isDragActive,v=d.isDragAccept,g=d.isDragReject,S=Object(n.useMemo)((function(){return f(f(f(f({},h),y?E:{}),v?P:{}),g?A:{})}),[y,g,r]),O={fontFamily:Object(s.a)().typography.fontFamily,textAlign:"center"};return i.a.createElement("section",{className:"container",style:O},i.a.createElement("div",m({style:S}),i.a.createElement("input",p({"aria-label":u},b(),{multiple:!1,accept:l})),o||t))}b(S,"useDropzone{dropZoneObject}\nuseMemo{style}\nuseTheme{theme}",(function(){return[c.b,s.a]})),S.defaultProps={message:"Drag 'n' drop some files here, or click to select files",onDrop:function(){},showFilesList:!0,children:null,error:!1,accept:"*"},S.propTypes={message:l.a.string,onDrop:l.a.func,accept:l.a.string,showFilesList:l.a.bool,children:l.a.oneOfType([l.a.element,l.a.arrayOf(l.a.shape({}))]),error:l.a.oneOfType([l.a.bool,l.a.shape({})])},(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(y,"humanFileSize","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx"),v.register(h,"baseStyle","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx"),v.register(E,"activeStyle","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx"),v.register(P,"acceptStyle","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx"),v.register(A,"rejectStyle","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx"),v.register(S,"DropZoneLocal","/home/jenkins/workspace/update-2/full/apim-apps/apim-apps-9.0.432.x-full/portals/publisher/src/main/webapp/source/src/app/components/Shared/DropZoneLocal.jsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,a(43)(e))}}]);
//# sourceMappingURL=APICreateRoutes.310c9f26f66207b7d6e3.bundle.js.map